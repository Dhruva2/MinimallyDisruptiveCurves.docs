<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
   <link rel="stylesheet" href="/MinimallyDisruptiveCurves.docs/libs/katex/katex.min.css">
     
   <link rel="stylesheet" href="/MinimallyDisruptiveCurves.docs/libs/highlight/github.min.css">
   
    <link rel="stylesheet" href="/MinimallyDisruptiveCurves.docs/css/jtd.css">
  <link rel="icon" href="/MinimallyDisruptiveCurves.docs/assets/favicon.ico">

   <title>Q&A with a sceptic</title>  
</head>
<body>                      <!-- closed in foot.html -->
<div class="page-wrap">   <!-- closed in foot.html -->
  <!-- SIDE BAR -->
  <div class="side-bar">
    <div class="header">
      <a href="/MinimallyDisruptiveCurves.docs/" class="title">
        User guide
      </a>
    </div>
    <label for="show-menu" class="show-menu">MENU</label>
    <input type="checkbox" id="show-menu" role="button">
    <div class="menu" id="side-menu">
      <ul class="menu-list">
        <li class="menu-list-item "><a href="/MinimallyDisruptiveCurves.docs/" class="menu-list-link ">Home</a>
        <li class="menu-list-item "><a href="/MinimallyDisruptiveCurves.docs/installation/"class="menu-list-link ">Installation</a>
        <li class="menu-list-item "><a href="/MinimallyDisruptiveCurves.docs/menu1/" class="menu-list-link ">How it works</a>
        <li class="menu-list-item active"><a href="/MinimallyDisruptiveCurves.docs/sceptic/" class="menu-list-link active">Q&A with a sceptic</a>
        <li class="menu-list-item "><a href="/MinimallyDisruptiveCurves.docs/menu2/" class="menu-list-link ">Examples</a>
        <li class="menu-list-item "><a href="/MinimallyDisruptiveCurves.docs/menu3/" class="menu-list-link ">Tips & Tricks</a>
          <ul class="menu-list-child-list ">
            <li class="menu-list-item "><a href="#" class="menu-list-link">Submenu</a>
          </ul>
      </ul>
    </div>
    <div class="footer">
      This is <em>Just the docs</em>, adapted from the <a href="https://github.com/pmarsceill/just-the-docs" target="_blank">Jekyll theme</a>.
    </div>
  </div>
  <!-- CONTENT -->
  <div class="main-content-wrap"> <!-- closed in foot.html -->
    <div class="main-content">    <!-- closed in foot.html -->
      <div class="main-header">
        <a id="github" href="https://github.com/Dhruva2/MinimallyDisruptiveCurves.jl">MinimallyDisruptiveCurves.jl on GitHub</a>
      </div>



<!-- Content appended here (in class franklin-content) -->
<div class="franklin-content"><div class="backgroundbox"><p><strong>This is Marna</strong></p>
<div class="row"><div class="container"><div class="left"><img src="/MinimallyDisruptiveCurves.docs/assets/rndimg.jpg" alt="" /></div></div>

<div style="clear: both"></div></div>
<br/>
<ul>
<li><p>We met online, as is common these days. She was hanging out on the website template from which I built this user guide. </p>
</li>
<li><p>Marna is a gentleman and a scholar. She is also a <strong>mar</strong>ine igua<strong>na</strong>. <em>Amblyrhynchus cristatus</em>. Do you know what <em>Ambly</em> means? Blunt.</p>
</li>
<li><p>Her native disposition was further sharpened &#40;blunted?&#41; by a traumatic childhood spent <a href="https://www.youtube.com/watch?v&#61;Rv9hn4IGofM">fleeing snakes</a>.</p>
</li>
<li><p>As such, she has acquired a healthy dislike for all things curve-shaped. Especially those that claim to be minimally disruptive.</p>
</li>
</ul>
<p><br/> <em>Marna has expressed her reservations about MinimallyDisruptiveCurves.jl. So we&#39;ve invited her for a Q&amp;A session.</em></p></div>
<p><br/> <br/></p>
<p><em>ü¶é: This doesn&#39;t make sense. The gradient of a function <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mo>:</mo><msup><mi mathvariant="double-struck">R</mi><mi>n</mi></msup><mo>‚Üí</mo><mi mathvariant="double-struck">R</mi></mrow><annotation encoding="application/x-tex">C: \mathbb{R}^n \to \mathbb{R}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathbb">R</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">‚Üí</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbb">R</span></span></span></span></span> gives the direction of maximal <strong>sensitivity</strong>. It doesn&#39;t say much about the remaining <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>‚àí</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">‚àí</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> directions, or how <strong>insensitive</strong> they are. But you&#39;re trying to use gradient information alone to evolve curves in a maximally <strong>insensitive</strong> direction of the cost function</em> <br/> </p>
<div class="unobtrusivebox"><p>You&#39;re correct. Usually the Hessian &#40;second derivative&#41; of a function gives the directions of local <strong>insensitivity</strong>. By Taylor expansion:</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mo stretchy="false">[</mo><mi>Œ∏</mi><mo>+</mo><mi>Œ¥</mi><mi>Œ∏</mi><mo stretchy="false">]</mo><mo>=</mo><mi>C</mi><mo stretchy="false">[</mo><mi>Œ∏</mi><mo stretchy="false">]</mo><mo>+</mo><mo stretchy="false">‚ü®</mo><mi>Œ¥</mi><mi>Œ∏</mi><mo separator="true">,</mo><msub><mi mathvariant="normal">‚àá</mi><mi>Œ∏</mi></msub><mi>C</mi><mo stretchy="false">‚ü©</mo><mo>+</mo><mfrac><mn>1</mn><mn>2</mn></mfrac><mo stretchy="false">‚ü®</mo><mi>Œ¥</mi><mi>Œ∏</mi><mo separator="true">,</mo><msubsup><mi mathvariant="normal">‚àá</mi><mi>Œ∏</mi><mn>2</mn></msubsup><mi>C</mi><mo stretchy="false">[</mo><mi>Œ∏</mi><mo stretchy="false">]</mo><mi>Œ¥</mi><mi>Œ∏</mi><mo stretchy="false">‚ü©</mo><mo>+</mo><mi mathvariant="script">O</mi><mo stretchy="false">(</mo><mi mathvariant="normal">‚à•</mi><mi>Œ¥</mi><mi>Œ∏</mi><msubsup><mi mathvariant="normal">‚à•</mi><mn>2</mn><mn>3</mn></msubsup><mo stretchy="false">)</mo><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex"> C[\theta + \delta \theta ] = C[\theta] + \langle \delta \theta, \nabla_{\theta} C \rangle + \frac{1}{2} \langle \delta \theta, \nabla^2_{\theta} C[\theta] \delta \theta \rangle + \mathcal{O}(\|\delta\theta\|_2^3).</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.02778em;">Œ∏</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03785em;">Œ¥</span><span class="mord mathdefault" style="margin-right:0.02778em;">Œ∏</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.02778em;">Œ∏</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">‚ü®</span><span class="mord mathdefault" style="margin-right:0.03785em;">Œ¥</span><span class="mord mathdefault" style="margin-right:0.02778em;">Œ∏</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord">‚àá</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">Œ∏</span></span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mclose">‚ü©</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:2.00744em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mopen">‚ü®</span><span class="mord mathdefault" style="margin-right:0.03785em;">Œ¥</span><span class="mord mathdefault" style="margin-right:0.02778em;">Œ∏</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord">‚àá</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">Œ∏</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.02778em;">Œ∏</span><span class="mclose">]</span><span class="mord mathdefault" style="margin-right:0.03785em;">Œ¥</span><span class="mord mathdefault" style="margin-right:0.02778em;">Œ∏</span><span class="mclose">‚ü©</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.1141079999999999em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.02778em;">O</span></span><span class="mopen">(</span><span class="mord">‚à•</span><span class="mord mathdefault" style="margin-right:0.03785em;">Œ¥</span><span class="mord mathdefault" style="margin-right:0.02778em;">Œ∏</span><span class="mord"><span class="mord">‚à•</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord">.</span></span></span></span></span>
<p>As you say, there are <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>‚àí</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">‚àí</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> potential directions for <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Œ¥</mi><mi>Œ∏</mi></mrow><annotation encoding="application/x-tex">\delta \theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03785em;">Œ¥</span><span class="mord mathdefault" style="margin-right:0.02778em;">Œ∏</span></span></span></span> that are uncorrelated with the gradient <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">‚àá</mi><mi>Œ∏</mi></msub><mi>C</mi><mo stretchy="false">[</mo><mi>Œ∏</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\nabla_{\theta} C[\theta]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord">‚àá</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">Œ∏</span></span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.02778em;">Œ∏</span><span class="mclose">]</span></span></span></span>. So the gradient doesn&#39;t give information on their sensitivity, while the Hessian does &#40;we can see if <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">‚ü®</mo><mi>Œ¥</mi><mi>Œ∏</mi><mo separator="true">,</mo><msubsup><mi mathvariant="normal">‚àá</mi><mi>Œ∏</mi><mn>2</mn></msubsup><mi>C</mi><mo stretchy="false">[</mo><mi>Œ∏</mi><mo stretchy="false">]</mo><mi>Œ¥</mi><mi>Œ∏</mi><mo stretchy="false">‚ü©</mo></mrow><annotation encoding="application/x-tex">\langle \delta \theta, \nabla^2_{\theta} C[\theta] \delta \theta \rangle</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.097216em;vertical-align:-0.2831079999999999em;"></span><span class="mopen">‚ü®</span><span class="mord mathdefault" style="margin-right:0.03785em;">Œ¥</span><span class="mord mathdefault" style="margin-right:0.02778em;">Œ∏</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord">‚àá</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-2.4168920000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">Œ∏</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.2831079999999999em;"><span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.02778em;">Œ∏</span><span class="mclose">]</span><span class="mord mathdefault" style="margin-right:0.03785em;">Œ¥</span><span class="mord mathdefault" style="margin-right:0.02778em;">Œ∏</span><span class="mclose">‚ü©</span></span></span></span> is small&#41;.</p>
<p>However, Hessians are generally very costly to compute, so we wanted a way of evolving insensitive directions using the gradient alone.</p>
<p>We can think again of the minimally disruptive curve as a ball rolling along a valley in the loss landscape &#40;where height is cost, and lateral co-ordinates are parameter values&#41;. Once given an initial push, the ball just maintains constant speed in a flat &#40;insensitive&#41; direction. It only changes its course when the valley curves, and it starts to creep up the valley side. What makes it turn? Gravity pushes it back down in the direction of the valley slope &#40;the gradient&#41;. So the trajectory curves along with the valley.</p></div>
<p><br/> <br/></p>
<p><em>ü¶é: OK but then numerical error will prevent this algorithm from working.  If you&#39;re near a local minimum of the cost, then the gradient <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">‚àá</mi><mi>Œ∏</mi></msub><mi>C</mi><mo>‚âà</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\nabla_{\theta} C \approx 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">‚àá</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">Œ∏</span></span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">‚âà</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>. Which means that small numerical errors will massively bias the direction of the gradient.</em> <br/></p>
<div class="unobtrusivebox"><p>Your intuition is good&#33; But we bypass this problem somewhat. If you want to see this in action, look at our simplest mass-spring model example:</p>
<p>Evaluate the gradient at the minimum and you&#39;ll notice that it isn&#39;t zero as it should be. The entries are <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>‚âà</mo><mn>1</mn><msup><mi>e</mi><mrow><mo>‚àí</mo><mn>5</mn></mrow></msup></mrow><annotation encoding="application/x-tex">\approx 1e^{-5}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.48312em;vertical-align:0em;"></span><span class="mrel">‚âà</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">‚àí</span><span class="mord mtight">5</span></span></span></span></span></span></span></span></span></span></span></span>. Nevertheless the MD curve &#40;which we know <em>a priori</em> in that problem&#41;, is extremely accurate. How come?</p>
<p>Roughly speaking, we could divide numerical errors into systematic, and unsystematic errors. <br/>  <strong>Unsystematic errors</strong>  We can think again of the minimally disruptive curve as a ball rolling along a valley in the loss landscape &#40;where height is cost, and lateral co-ordinates are parameter values&#41;. Our ball has weight, and thus some momentum. This is the costate variable <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Œª</mi><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\lambda(t)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">Œª</span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span></span></span></span> described in the <a href="/MinimallyDisruptiveCurves.docs/menu1">How it works</a> section. We can think of the ball being buffeted by the wind &#40;unsystematic numerical errors&#41;. The momentum of the ball prevents this buffeting from affecting the trajectory too much <strong>unless</strong> the direction is systematic....</p>
<p><strong>Systematic errors</strong>  Every so often, the minimally disruptive curve generator resets the momentum &#40;costate&#41; variable. This factors out numerical error that has integrated over time. You can set the numerical tolerance at which this reset happens, or switch it off entirely:</p>
<pre><code class="julia hljs">evolve(c::curveProblem, solmethod=<span class="hljs-literal">nothing</span>; callback=<span class="hljs-literal">nothing</span>, momentum_tol = <span class="hljs-number">1e-3</span>,kwargs...)</code></pre>
<p>Set <code>momentum_tol &#61; nothing</code>  to switch off this resetting. In many examples, this will cause the minimally disruptive curve to veer off course or even go completely unstable.</p></div>
<p><br/> <br/>   <em>ü¶é: Hmm, I see. But do we have to use a gradient at all? Why not just wiggle parameters, see which wiggles don&#39;t change model behaviour, and so on?</em> <br/> </p>
<div class="unobtrusivebox"><p>The profile likelihood method &#40;introduced in <span class="bibref">(<a href="#venzon88">Venzon & Moolgavkar (1988)</a>)</span>, and applied, with a software toolbox, for Systems Biology in <span class="bibref">(<a href="#raue09">Raue, Andreas, et al. (2009)</a>)</span>&#41; does precisely this&#33; And doesn&#39;t require a differentiable cost function. </p>
<p>Essentially they pick a parameter &#40;<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>j</mi></mrow><annotation encoding="application/x-tex">j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span></span></span></span>&#41;, and iteratively change it. At each step, all the other parameters are re-optimised to minimise the cost function. This solves a slightly different problem: making effective confidence intervals on the parameters for a particular model behaviour.</p></div>
<p><br/> <br/> <em>ü¶é: All these numerical methods though...what about numerical error?</em> <br/> </p>
<div class="unobtrusivebox"><p>The differential equation that MinimallyDisruptiveCurves.jl attempts to solved can be ill-conditioned. I&#39;ve spent some effort alleviating this, but I haven&#39;t fully explored methods of making it as numerically stable as possible. Or even characterising the numerical stability of the solution. This would be a good research topic. In the <a href="/MinimallyDisruptiveCurves.docs/menu3/">Tips &amp; Tricks</a> section, I give some guidelines.</p>
<p>Fortunately I think it is acceptable to be much more tolerant than usual  of numerical error in this type of problem. Why? The success of an MD curve is not defined by whether the numerical solution of the ODE defining curve evolution was accurate. It is defined by whether you generated a curve that doesn&#39;t disrupt model behaviour much. If this toolbox gives you that...great. This is different from usual use cases of ODE solvers, where you want to approximate as closely as possible an unknown &#39;ground truth&#39; dynamical system.</p></div>
<ul>
<li><p><a id="venzon88" class="anchor"></a> Venzon, D. J., and S. H. Moolgavkar. &quot;<a href="https://www.jstor.org/stable/pdf/2347496.pdf?casa_token&#61;FWVhlSa5GRcAAAAA:pPzSK4NeRprge0-dzlZp7ae5bCIiEEnJRn2L8Qq_s6ND57YmippIDaKDg8Pxq64QH_7_DW0h4bonSbnaLm4dFhsEuPaefVJoYCv1gNUhs_qhgmObZQ">A method for computing profile‚Äêlikelihood‚Äêbased confidence intervals</a>.&quot; Journal of the Royal Statistical Society: Series C &#40;Applied Statistics&#41; 37.1 &#40;1988&#41;: 87-94.</p>
</li>
</ul>
<ul>
<li><p><a id="raue09" class="anchor"></a> &quot;<a href="https://academic.oup.com/bioinformatics/article/25/15/1923/213246">Structural and practical identifiability analysis of partially observed dynamical models by exploiting the profile likelihood.</a>&quot; Bioinformatics 25.15 &#40;2009&#41;: 1923-1929.</p>
</li>
</ul>
<div class="page-foot">
  <div class="copyright">
    &copy; Dhruva Venkita Raman. Last modified: October 05, 2020. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a>.
  </div>
</div>
</div><!-- CONTENT ENDS HERE -->
    </div> <!-- end of class main-content -->
    </div> <!-- end of class main-content-wrap -->
    </div> <!-- end of class page-wrap-->
    
      



    
    
      


    
  </body>
</html>
