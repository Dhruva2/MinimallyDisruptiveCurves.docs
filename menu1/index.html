<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/MinimallyDisruptiveCurves.docs/libs/katex/katex.min.css"> <link rel=stylesheet  href="/MinimallyDisruptiveCurves.docs/css/jtd.css"> <link rel=icon  href="/MinimallyDisruptiveCurves.docs/assets/favicon.ico"> <title>How it works</title> <div class=page-wrap > <div class=side-bar > <div class=header > <a href="/MinimallyDisruptiveCurves.docs/" class=title > User guide </a> </div> <label for=show-menu  class=show-menu >MENU</label> <input type=checkbox  id=show-menu  role=button > <div class=menu  id=side-menu > <ul class=menu-list > <li class="menu-list-item "><a href="/MinimallyDisruptiveCurves.docs/" class="menu-list-link ">Home</a> <li class="menu-list-item "><a href="/MinimallyDisruptiveCurves.docs/installation/"class="menu-list-link ">Installation</a> <li class="menu-list-item active"><a href="/MinimallyDisruptiveCurves.docs/menu1/" class="menu-list-link active">How it works</a> <li class="menu-list-item "><a href="/MinimallyDisruptiveCurves.docs/sceptic/" class="menu-list-link ">Q&A with a sceptic</a> <li class="menu-list-item "><a href="/MinimallyDisruptiveCurves.docs/Audience_questions/" class="menu-list-link ">Questions from the Audience</a> <li class="menu-list-item "><a href="/MinimallyDisruptiveCurves.docs/menu2/" class="menu-list-link ">Examples</a> <li class="menu-list-item "><a href="/MinimallyDisruptiveCurves.docs/menu3/" class="menu-list-link ">Tips & Tricks</a> <ul class="menu-list-child-list "> <li class="menu-list-item "><a href="#" class=menu-list-link >Submenu</a> </ul> </ul> </div> <div class=footer > This is <em>Just the docs</em>, adapted from the <a href="https://github.com/pmarsceill/just-the-docs" target=_blank >Jekyll theme</a>. </div> </div> <div class=main-content-wrap > <div class=main-content > <div class=main-header > <a id=github  href="https://github.com/Dhruva2/MinimallyDisruptiveCurves.jl">MinimallyDisruptiveCurves.jl on GitHub</a> </div> <div class=franklin-content ><h1 id=how_it_works ><a href="#how_it_works" class=header-anchor >How it works</a></h1> <div class=franklin-toc ><ol><li><a href="#notation">Notation</a><li><a href="#background_model-fitting">Background: model-fitting</a><ol><li><a href="#graphically">Graphically</a><li><a href="#verbally">Verbally:</a><li><a href="#mathematically">Mathematically</a></ol><li><a href="#what_are_we_trying_to_do">What are we trying to do</a><li><a href="#how_we_do_it">How we do it</a><li><a href="#tldr">TL;DR</a></ol></div> <h2 id=notation ><a href="#notation" class=header-anchor >Notation</a></h2> <ul> <li><p>Let&#39;s say our model has <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span> parameters. </p> <li><p>The set of allowable parameter values is denoted <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant=normal >Θ</mi><mo>⊆</mo><msup><mi mathvariant=double-struck >R</mi><mi>N</mi></msup></mrow><annotation encoding="application/x-tex">\Theta \subseteq \mathbb{R}^N</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.8193em;vertical-align:-0.13597em;"></span><span class=mord >Θ</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >⊆</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.8413309999999999em;vertical-align:0em;"></span><span class=mord ><span class=mord ><span class="mord mathbb">R</span></span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span></span></span></span></span></span></span></span></span></span></span>. For instance, maybe parameter values must be positive, in which case <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant=normal >Θ</mi></mrow><annotation encoding="application/x-tex">\Theta</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class=mord >Θ</span></span></span></span> is the positive orthant.</p> <li><p>Any particular model configuration can be defined by a vector of <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span> parameters: <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>θ</mi><mo>∈</mo><mi mathvariant=normal >Θ</mi></mrow><annotation encoding="application/x-tex">\theta \in \Theta</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.73354em;vertical-align:-0.0391em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >∈</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class=mord >Θ</span></span></span></span>.</p> <li><p>We denote the cost&#40;/loss&#41; function as </p> </ul> <span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mo>:</mo><mi mathvariant=normal >Θ</mi><mo>→</mo><mi mathvariant=double-struck >R</mi><mi mathvariant=normal >.</mi></mrow><annotation encoding="application/x-tex"> C: \Theta \to \mathbb{R}. </annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >:</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class=mord >Θ</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >→</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.68889em;vertical-align:0em;"></span><span class=mord ><span class="mord mathbb">R</span></span><span class=mord >.</span></span></span></span></span> <p><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mo stretchy=false >(</mo><mi>θ</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">C(\theta)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class=mopen >(</span><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class=mclose >)</span></span></span></span> tells us &#39;how badly&#39; the model behaves when using the parameter vector <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>θ</mi></mrow><annotation encoding="application/x-tex">\theta</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span></span></span></span>. The smaller <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mo stretchy=false >(</mo><mi>θ</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">C(\theta)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class=mopen >(</span><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class=mclose >)</span></span></span></span> is, the better the model behaves.</p> <h2 id=background_model-fitting ><a href="#background_model-fitting" class=header-anchor >Background: model-fitting</a></h2> <p>Let&#39;s quickly recap the problem of model-fitting &#40;optimising the model&#41;, and define some notation for subsequent use.</p> <h3 id=graphically ><a href="#graphically" class=header-anchor >Graphically</a></h3> <div class=backgroundbox ><p><br/> <br/> <div class=row > <div class=container > <img class=center  src="/MinimallyDisruptiveCurves.docs/assets/loss_schematic.svg"> <div style="clear: both"></div> </div> </div> <em>&#40;bracketed blocks are optional. Ideal outputs could be experimental data&#41;</em> <br/> <br/> <strong>But we can abstract away fixed blocks to get our cost function:</strong> <br/> </p> <div class=row > <div class=container > <img class=center  src="/MinimallyDisruptiveCurves.docs/assets/reduced_loss_schematic.svg"> <div style="clear: both"></div> </div> </div></div> <br/> <h3 id=verbally ><a href="#verbally" class=header-anchor >Verbally:</a></h3> <ul> <li><p>When we make a model of a system, we want it recreate some desired behaviour&#40;s&#41;. </p> <li><p>To do so, we make a <strong>cost</strong> &#40;also called loss&#41; function, that takes in model behaviour, and spits out how bad it is. Larger loss &lt;&#61;&gt; less desirable model behaviour.</p> <li><p>Of course, the modeller has to define the measure of bad behaviour. For instance, squared deviation from data the model is supposed to fit &#40;<em>is used too much</em>&#41;. </p> </ul> <div class=infobox ><p><strong>By the way</strong></p> <ul> <li><p>Most systems one would model in Biology and Engineering &#40;my interests&#41; are input-output systems. You turn the steering wheel, the car veers. You inject current, the neuron fires. You add a cytokine, the cell&#39;s metabolic system responds.</p> <li><p>Therefore reasonable cost functions should penalise bad model behaviour <strong>for multiple inputs</strong>. I want my car to turn left when I steer left. I also want my car to turn right when I steer right. </p> <li><p>Don&#39;t conveniently forget this to make the modelling/analysis easier. Too many biological models do. I&#39;m also guilty. MinimallyDisruptiveCurves.jl allows you easily sum multiple cost functions &#40;one for each input&#41;. It evaluates them in a multithreaded way, so that performance doesn&#39;t take such a hit.</p> </ul></div> <h3 id=mathematically ><a href="#mathematically" class=header-anchor >Mathematically</a></h3> <p><strong>Model fitting</strong> &#40;also known as training, optimisation, calibration, ...&#41; is running:</p> <span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>θ</mi><mo>∗</mo></msup><mo>=</mo><mi>arg</mi><mo>⁡</mo><munder><mo><mi>min</mi><mo>⁡</mo></mo><mi>θ</mi></munder><mi>C</mi><mo stretchy=false >(</mo><mi>θ</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex"> \theta^* = \arg\min_\theta C(\theta) </annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.738696em;vertical-align:0em;"></span><span class=mord ><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.738696em;"><span style="top:-3.113em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1.5021079999999998em;vertical-align:-0.7521079999999999em;"></span><span class=mop >ar<span style="margin-right:0.01389em;">g</span></span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.66786em;"><span style="top:-2.347892em;margin-left:0em;"><span class=pstrut  style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">θ</span></span></span><span style="top:-3em;"><span class=pstrut  style="height:3em;"></span><span><span class=mop >min</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.7521079999999999em;"><span></span></span></span></span></span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class=mopen >(</span><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class=mclose >)</span></span></span></span></span> <p>subject to <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>θ</mi><mo>∈</mo><mi mathvariant=normal >Θ</mi></mrow><annotation encoding="application/x-tex">\theta \in \Theta</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.73354em;vertical-align:-0.0391em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >∈</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class=mord >Θ</span></span></span></span>. <br/></p> <ul> <li><p>Since <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mo stretchy=false >(</mo><mi>θ</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">C(\theta)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class=mopen >(</span><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class=mclose >)</span></span></span></span> is a scalar function &#40;returns a scalar&#41;, we can think of it as a landscape, where height is analogous to <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mo stretchy=false >(</mo><mi>θ</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">C(\theta)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class=mopen >(</span><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class=mclose >)</span></span></span></span>, and lateral co-ordinates are the parameters <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>θ</mi></mrow><annotation encoding="application/x-tex">\theta</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span></span></span></span> of the problem. Then model fitting is just finding a path to the deepest point of the landscape&#33; &#40;see below&#41;</p> </ul> <p><img src="https://blog.paperspace.com/content/images/2018/06/optimizers7.gif" alt="" /></p> <p><em>This gif was taken from an Intro to Optimization blog post, <a href="https://blog.paperspace.com/intro-to-optimization-momentum-rmsprop-adam/">website here</a></em></p> <h2 id=what_are_we_trying_to_do ><a href="#what_are_we_trying_to_do" class=header-anchor >What are we trying to do</a></h2> <p>Recall the goal. Given a fitted model, we want to:</p> <blockquote> <p>Find functional relationships between model parameters that best preserve model behaviour.</p> </blockquote> <p>To do this, our curve generator wants to </p> <blockquote> <p><em>get as far away as possible from the initial parameters, while keeping the cost function as low as possible</em>.</p> </blockquote> <div class=infobox ><p><strong>By the way</strong></p> <ul> <li><p>Optimisation consists of <strong>descending to the lowest point of the cost landscape</strong> &#40;without worrying about your particular trajectory&#41;.</p> <li><p>We, on the other hand, are trying to <strong>flow along the valleys of the landscape</strong>. Like a river. But one that has enough energy to go uphill to a specified elevation &#40;the momentum parameter&#41; if it can&#39;t find a flat/downhill direction.</p> </ul></div> <p>Let&#39;s express this mathematically. We can define a curve on parameter space as a function:</p> <span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>γ</mi><mo>:</mo><mo stretchy=false >[</mo><mn>0</mn><mo separator=true >,</mo><mi>F</mi><mo stretchy=false >]</mo><mo>→</mo><mi mathvariant=normal >Θ</mi><mi mathvariant=normal >.</mi></mrow><annotation encoding="application/x-tex"> \gamma: [0, F] \to \Theta. </annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >:</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mopen >[</span><span class=mord >0</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class=mclose >]</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >→</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class=mord >Θ</span><span class=mord >.</span></span></span></span></span> <ul> <li><p>The input <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mo>∈</mo><mo stretchy=false >[</mo><mn>0</mn><mo separator=true >,</mo><mi>F</mi><mo stretchy=false >]</mo></mrow><annotation encoding="application/x-tex">s \in [0, F]</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathdefault">s</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >∈</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mopen >[</span><span class=mord >0</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class=mclose >]</span></span></span></span> to the curve is a scalar number, that specifies &#39;how far along&#39; the curve we are. So <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>γ</mi><mo stretchy=false >(</mo><mn>0</mn><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">\gamma(0)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span><span class=mopen >(</span><span class=mord >0</span><span class=mclose >)</span></span></span></span> is the initial point, and <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>γ</mi><mo stretchy=false >(</mo><mi>F</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">\gamma(F)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span><span class=mopen >(</span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class=mclose >)</span></span></span></span> is the final point.</p> </ul> <p>Any point <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>γ</mi><mo stretchy=false >(</mo><mi>s</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">\gamma(s)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span><span class=mopen >(</span><span class="mord mathdefault">s</span><span class=mclose >)</span></span></span></span> on the curve has a <strong>derivative</strong>, <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>γ</mi><mo mathvariant=normal  lspace=0em  rspace=0em >′</mo></msup><mo stretchy=false >(</mo><mi>s</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">\gamma&#x27;(s)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1.001892em;vertical-align:-0.25em;"></span><span class=mord ><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class=mopen >(</span><span class="mord mathdefault">s</span><span class=mclose >)</span></span></span></span>. This is the direction in which it is pointing &#40;i.e. the direction of the tangent&#41;. Let&#39;s fix </p> <ul> <li><p><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>γ</mi><mo stretchy=false >(</mo><mn>0</mn><mo stretchy=false >)</mo><mo>=</mo><msup><mi>θ</mi><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">\gamma(0) = \theta^*</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span><span class=mopen >(</span><span class=mord >0</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.69444em;vertical-align:0em;"></span><span class=mord ><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span></span></span></span>, the locally optimal parameter vector gained from model fitting.</p> <li><p><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>γ</mi><mo mathvariant=normal  lspace=0em  rspace=0em >′</mo></msup><mo stretchy=false >(</mo><mn>0</mn><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">\gamma&#x27;(0)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1.001892em;vertical-align:-0.25em;"></span><span class=mord ><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class=mopen >(</span><span class=mord >0</span><span class=mclose >)</span></span></span></span>, the initial starting direction of the curve, as a user-defined parameter.</p> </ul> <p>We will denote the set of allowable curves <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>γ</mi></mrow><annotation encoding="application/x-tex">\gamma</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span></span></span></span> &#40;i.e. those satisfying the above constraints&#41;, as <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant=normal >Γ</mi></mrow><annotation encoding="application/x-tex">\Gamma</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class=mord >Γ</span></span></span></span>. </p> <div class=row > <div class=container > <img class=center  src="/MinimallyDisruptiveCurves.docs/assets/isacurve.svg"> <div style="clear: both"></div> </div> </div> <div class=infobox ><p><strong>By the way</strong></p> <p>We are going to iteratively add constraints to the set of allowable curves, and thus shrink <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant=normal >Γ</mi></mrow><annotation encoding="application/x-tex">\Gamma</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class=mord >Γ</span></span></span></span>.</p></div> <br/> <p>Now we want all points on our curve to define low-cost parameter configurations. In other words, we want <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mo stretchy=false >(</mo><mi>γ</mi><mo stretchy=false >(</mo><mi>s</mi><mo stretchy=false >)</mo><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">C(\gamma(s))</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class=mopen >(</span><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span><span class=mopen >(</span><span class="mord mathdefault">s</span><span class=mclose >)</span><span class=mclose >)</span></span></span></span> to be small for any <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mo>∈</mo><mo stretchy=false >[</mo><mn>0</mn><mo separator=true >,</mo><mi>F</mi><mo stretchy=false >]</mo></mrow><annotation encoding="application/x-tex">s \in [0, F]</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathdefault">s</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >∈</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mopen >[</span><span class=mord >0</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class=mclose >]</span></span></span></span>. How can we distinguish between &#39;good&#39; and &#39;bad&#39; curves? How about this:</p> <span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>J</mi><mo stretchy=false >[</mo><mi>γ</mi><mo stretchy=false >]</mo><mo>=</mo><msub><mo>∫</mo><mi>γ</mi></msub><mi>C</mi><mo stretchy=false >[</mo><mi>γ</mi><mo stretchy=false >(</mo><mi>s</mi><mo stretchy=false >)</mo><mo stretchy=false >]</mo><mtext> </mtext><mi>d</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">J[\gamma] = \int_{\gamma} C[\gamma(s)] \ ds </annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.09618em;">J</span><span class=mopen >[</span><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span><span class=mclose >]</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:2.408058em;vertical-align:-1.048058em;"></span><span class=mop ><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011249999999999316em;">∫</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:-0.6105579999999999em;"><span style="top:-1.7880500000000001em;margin-left:-0.44445em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05556em;">γ</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:1.048058em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class=mopen >[</span><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span><span class=mopen >(</span><span class="mord mathdefault">s</span><span class=mclose >)</span><span class=mclose >]</span><span class=mspace > </span><span class="mord mathdefault">d</span><span class="mord mathdefault">s</span></span></span></span></span> <p><br/> <br/> <div class=row > <div class=container > <img class=left  src="/MinimallyDisruptiveCurves.docs/assets/lineintegral.svg"> <div style="clear: both"></div> </div> </div> </p> <p><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>J</mi></mrow><annotation encoding="application/x-tex">J</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.09618em;">J</span></span></span></span> is the <strong>line integral</strong> of the cost <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span></span> along the curve <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>γ</mi></mrow><annotation encoding="application/x-tex">\gamma</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span></span></span></span>. If <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>J</mi><mo stretchy=false >[</mo><mi>γ</mi><mo stretchy=false >]</mo></mrow><annotation encoding="application/x-tex">J[\gamma]</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.09618em;">J</span><span class=mopen >[</span><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span><span class=mclose >]</span></span></span></span> is small, then <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span></span> is necessarily small along the entire curve. </p> <div class=infobox ><p><strong>By the way</strong></p> <p>Vector calculus 101: we can expand out the line integral as</p> <span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mo>∫</mo><mi>γ</mi></msub><mi>C</mi><mo stretchy=false >[</mo><mi>γ</mi><mo stretchy=false >(</mo><mi>s</mi><mo stretchy=false >)</mo><mo stretchy=false >]</mo><mtext> </mtext><mi>d</mi><mi>s</mi><mo>=</mo><msubsup><mo>∫</mo><mn>0</mn><mi>F</mi></msubsup><mi>C</mi><mo stretchy=false >[</mo><mi>γ</mi><mo stretchy=false >(</mo><mi>s</mi><mo stretchy=false >)</mo><mo stretchy=false >]</mo><mi mathvariant=normal >∥</mi><mi>γ</mi><mo stretchy=false >(</mo><mi>s</mi><mo stretchy=false >)</mo><msub><mi mathvariant=normal >∥</mi><mn>2</mn></msub><mtext> </mtext><mi>d</mi><mi>s</mi></mrow><annotation encoding="application/x-tex"> \int_{\gamma} C[\gamma(s)] \ ds = \int_0^F C[\gamma(s)] \| \gamma(s) \|_2 \ ds </annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:2.408058em;vertical-align:-1.048058em;"></span><span class=mop ><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011249999999999316em;">∫</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:-0.6105579999999999em;"><span style="top:-1.7880500000000001em;margin-left:-0.44445em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05556em;">γ</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:1.048058em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class=mopen >[</span><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span><span class=mopen >(</span><span class="mord mathdefault">s</span><span class=mclose >)</span><span class=mclose >]</span><span class=mspace > </span><span class="mord mathdefault">d</span><span class="mord mathdefault">s</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:2.503181em;vertical-align:-0.9119499999999999em;"></span><span class=mop ><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011249999999999316em;">∫</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:1.591231em;"><span style="top:-1.7880500000000001em;margin-left:-0.44445em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span><span style="top:-3.8129000000000004em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">F</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.9119499999999999em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class=mopen >[</span><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span><span class=mopen >(</span><span class="mord mathdefault">s</span><span class=mclose >)</span><span class=mclose >]</span><span class=mord >∥</span><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span><span class=mopen >(</span><span class="mord mathdefault">s</span><span class=mclose >)</span><span class=mord ><span class=mord >∥</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace > </span><span class="mord mathdefault">d</span><span class="mord mathdefault">s</span></span></span></span></span></div> <p><br/> So now the <strong>best</strong> curve would be the solution of</p> <span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><munder><mo><mi>min</mi><mo>⁡</mo></mo><mrow><mi>γ</mi><mo>∈</mo><mi mathvariant=normal >Γ</mi></mrow></munder><mi>J</mi><mo stretchy=false >[</mo><mi>γ</mi><mo stretchy=false >]</mo><mi mathvariant=normal >.</mi></mrow><annotation encoding="application/x-tex"> \min_{\gamma \in \Gamma} J[\gamma]. </annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1.630439em;vertical-align:-0.880439em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.66786em;"><span style="top:-2.3556690000000002em;margin-left:0em;"><span class=pstrut  style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05556em;">γ</span><span class="mrel mtight">∈</span><span class="mord mtight">Γ</span></span></span></span><span style="top:-3em;"><span class=pstrut  style="height:3em;"></span><span><span class=mop >min</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.880439em;"><span></span></span></span></span></span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.09618em;">J</span><span class=mopen >[</span><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span><span class=mclose >]</span><span class=mord >.</span></span></span></span></span> <div class=unobtrusivebox ><p><strong>But wait&#33;</strong> </p> <p><em>What&#39;s preventing the curve from just buzzing around <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>γ</mi><mo stretchy=false >(</mo><mn>0</mn><mo stretchy=false >)</mo><mo>=</mo><msup><mi>θ</mi><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">\gamma(0) = \theta^*</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span><span class=mopen >(</span><span class=mord >0</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.69444em;vertical-align:0em;"></span><span class=mord ><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span></span></span></span>. Since we know that <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mo stretchy=false >(</mo><msup><mi>θ</mi><mo>∗</mo></msup><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">C(\theta^*)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class=mopen >(</span><span class=mord ><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class=mclose >)</span></span></span></span> is as low as can be?</em></p> <p><strong>Absolutely nothing&#33;</strong></p></div> <p><br/> So let&#39;s add a constraint that the direction of the curve must always be pointing <strong>away</strong> from <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>θ</mi><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">\theta^*</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.69444em;vertical-align:0em;"></span><span class=mord ><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span></span></span></span>. Mathematically:</p> <span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mi>d</mi><mrow><mi>d</mi><mi>s</mi></mrow></mfrac><mi mathvariant=normal >∥</mi><mi>γ</mi><mo stretchy=false >(</mo><mi>s</mi><mo stretchy=false >)</mo><mo>−</mo><msup><mi>θ</mi><mo>∗</mo></msup><msub><mi mathvariant=normal >∥</mi><mn>2</mn></msub><mo>&gt;</mo><mn>0</mn><mo separator=true >,</mo><mspace width=2em /><mi mathvariant=normal >∀</mi><mi>s</mi><mo>∈</mo><mo stretchy=false >[</mo><mn>0</mn><mo separator=true >,</mo><mi>F</mi><mo stretchy=false >]</mo><mi mathvariant=normal >.</mi></mrow><annotation encoding="application/x-tex"> \frac{d}{ds} \| \gamma(s) - \theta^* \|_2 &gt; 0, \qquad \forall s \in [0, F]. </annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:2.05744em;vertical-align:-0.686em;"></span><span class=mord ><span class="mopen nulldelimiter"></span><span class=mfrac ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:1.37144em;"><span style="top:-2.314em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class="mord mathdefault">d</span><span class="mord mathdefault">s</span></span></span><span style="top:-3.23em;"><span class=pstrut  style="height:3em;"></span><span class=frac-line  style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class="mord mathdefault">d</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class=mord >∥</span><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span><span class=mopen >(</span><span class="mord mathdefault">s</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >−</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord ><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.738696em;"><span style="top:-3.113em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class=mord ><span class=mord >∥</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >&gt;</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class=mord >0</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mspace  style="margin-right:2em;"></span><span class=mord >∀</span><span class="mord mathdefault">s</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >∈</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mopen >[</span><span class=mord >0</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class=mclose >]</span><span class=mord >.</span></span></span></span></span> <br/> <div class=unobtrusivebox ><p><strong>But wait again&#33;</strong></p> <p><em>What if the curve &#39;doesn&#39;t want to evolve&#39; because every direction increases the cost. So it just...stays short.</em></p> <p><strong>Absolutely nothing again&#33;</strong></p></div> <p><br/> We want a curve that actually changes the parameters appreciably. So let&#39;s constrain the length of the curve, by setting how fast it moves as a function of <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">s</span></span></span></span>:</p> <span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant=normal >∥</mi><msup><mi>γ</mi><mo mathvariant=normal  lspace=0em  rspace=0em >′</mo></msup><mo stretchy=false >(</mo><mi>s</mi><mo stretchy=false >)</mo><msub><mi mathvariant=normal >∥</mi><mn>2</mn></msub><mo>=</mo><mn>1</mn><mspace width=2em /><mi mathvariant=normal >∀</mi><mi>s</mi><mo>∈</mo><mo stretchy=false >[</mo><mn>0</mn><mo separator=true >,</mo><mi>F</mi><mo stretchy=false >]</mo><mi mathvariant=normal >.</mi></mrow><annotation encoding="application/x-tex"> \| \gamma&#x27;(s) \|_2 = 1 \qquad \forall s \in [0, F].</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1.051892em;vertical-align:-0.25em;"></span><span class=mord >∥</span><span class=mord ><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.801892em;"><span style="top:-3.113em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class=mopen >(</span><span class="mord mathdefault">s</span><span class=mclose >)</span><span class=mord ><span class=mord >∥</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.73354em;vertical-align:-0.0391em;"></span><span class=mord >1</span><span class=mspace  style="margin-right:2em;"></span><span class=mord >∀</span><span class="mord mathdefault">s</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >∈</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mopen >[</span><span class=mord >0</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class=mclose >]</span><span class=mord >.</span></span></span></span></span> <p>Now the curve <strong>has</strong> to have length <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi></mrow><annotation encoding="application/x-tex">F</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span></span></span></span>.</p> <p>So to wrap up, our allowable curves are:</p> <span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant=normal >Γ</mi><mo>=</mo><mo fence=false >{</mo><mi>γ</mi><mo>:</mo><mo stretchy=false >[</mo><mn>0</mn><mo separator=true >,</mo><mi>F</mi><mo stretchy=false >]</mo><mo>→</mo><mi mathvariant=normal >Θ</mi><mo>:</mo><mspace linebreak=newline ></mspace><mfrac><mi>d</mi><mrow><mi>d</mi><mi>s</mi></mrow></mfrac><mi mathvariant=normal >∥</mi><mi>γ</mi><mo stretchy=false >(</mo><mi>s</mi><mo stretchy=false >)</mo><mo>−</mo><msup><mi>θ</mi><mo>∗</mo></msup><msub><mi mathvariant=normal >∥</mi><mn>2</mn></msub><mo>&gt;</mo><mn>0</mn><mo separator=true >;</mo><mspace linebreak=newline ></mspace><mi mathvariant=normal >∥</mi><msup><mi>γ</mi><mo mathvariant=normal  lspace=0em  rspace=0em >′</mo></msup><mo stretchy=false >(</mo><mi>s</mi><mo stretchy=false >)</mo><msub><mi mathvariant=normal >∥</mi><mn>2</mn></msub><mo>=</mo><mn>1</mn><mo separator=true >;</mo><mspace linebreak=newline ></mspace><mi>γ</mi><mo stretchy=false >(</mo><mn>0</mn><mo stretchy=false >)</mo><mo>=</mo><msup><mi>θ</mi><mo>∗</mo></msup><mo separator=true >;</mo><mspace linebreak=newline ></mspace><msup><mi>γ</mi><mo mathvariant=normal  lspace=0em  rspace=0em >′</mo></msup><mo stretchy=false >(</mo><mn>0</mn><mo stretchy=false >)</mo><mo>=</mo><mi>δ</mi><msup><mi>θ</mi><mo>∗</mo></msup><mo fence=false >}</mo><mo separator=true >,</mo></mrow><annotation encoding="application/x-tex"> \Gamma = \Big\{\gamma:[0,F] \to \Theta: \\ \frac{d}{ds} \| \gamma(s) - \theta^* \|_2 &gt; 0; \\ \| \gamma&#x27;(s) \|_2 = 1; \\ \gamma(0) = \theta^*; \\ \gamma&#x27;(0) = \delta \theta^* \Big\}, </annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class=mord >Γ</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1.80002em;vertical-align:-0.65002em;"></span><span class=mord ><span class="delimsizing size2">{</span></span><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >:</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mopen >[</span><span class=mord >0</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class=mclose >]</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >→</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class=mord >Θ</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >:</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class="mspace newline"></span><span class=base ><span class=strut  style="height:2.05744em;vertical-align:-0.686em;"></span><span class=mord ><span class="mopen nulldelimiter"></span><span class=mfrac ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:1.37144em;"><span style="top:-2.314em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class="mord mathdefault">d</span><span class="mord mathdefault">s</span></span></span><span style="top:-3.23em;"><span class=pstrut  style="height:3em;"></span><span class=frac-line  style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class="mord mathdefault">d</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class=mord >∥</span><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span><span class=mopen >(</span><span class="mord mathdefault">s</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >−</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord ><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.738696em;"><span style="top:-3.113em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class=mord ><span class=mord >∥</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >&gt;</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class=mord >0</span><span class=mpunct >;</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span></span><span class="mspace newline"></span><span class=base ><span class=strut  style="height:1.051892em;vertical-align:-0.25em;"></span><span class=mord >∥</span><span class=mord ><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.801892em;"><span style="top:-3.113em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class=mopen >(</span><span class="mord mathdefault">s</span><span class=mclose >)</span><span class=mord ><span class=mord >∥</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class=mord >1</span><span class=mpunct >;</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span></span><span class="mspace newline"></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span><span class=mopen >(</span><span class=mord >0</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.933136em;vertical-align:-0.19444em;"></span><span class=mord ><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.738696em;"><span style="top:-3.113em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class=mpunct >;</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span></span><span class="mspace newline"></span><span class=base ><span class=strut  style="height:1.051892em;vertical-align:-0.25em;"></span><span class=mord ><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.801892em;"><span style="top:-3.113em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class=mopen >(</span><span class=mord >0</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1.80002em;vertical-align:-0.65002em;"></span><span class="mord mathdefault" style="margin-right:0.03785em;">δ</span><span class=mord ><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.738696em;"><span style="top:-3.113em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class=mord ><span class="delimsizing size2">}</span></span><span class=mpunct >,</span></span></span></span></span> <p>for some fixed initial direction <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>δ</mi><msup><mi>θ</mi><mo>∗</mo></msup><mo>∈</mo><msup><mi mathvariant=double-struck >R</mi><mi>N</mi></msup></mrow><annotation encoding="application/x-tex">\delta \theta^* \in \mathbb{R}^N</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.73354em;vertical-align:-0.0391em;"></span><span class="mord mathdefault" style="margin-right:0.03785em;">δ</span><span class=mord ><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >∈</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.8413309999999999em;vertical-align:0em;"></span><span class=mord ><span class=mord ><span class="mord mathbb">R</span></span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span></span></span></span></span></span></span></span></span></span></span>. Our mathematical problem is </p> <a id=eqmainprob  class=anchor ></a><span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><munder><mo><mi>min</mi><mo>⁡</mo></mo><mrow><mi>γ</mi><mo>∈</mo><mi mathvariant=normal >Γ</mi></mrow></munder><mi>J</mi><mo stretchy=false >[</mo><mi>γ</mi><mo stretchy=false >]</mo><mo separator=true >,</mo><mtext>where</mtext><mspace linebreak=newline ></mspace><mi>J</mi><mo stretchy=false >[</mo><mi>γ</mi><mo stretchy=false >]</mo><mo>=</mo><msub><mo>∫</mo><mi>γ</mi></msub><mi>C</mi><mo stretchy=false >[</mo><mi>γ</mi><mo stretchy=false >(</mo><mi>s</mi><mo stretchy=false >)</mo><mo stretchy=false >]</mo><mtext> </mtext><mi>d</mi><mi>s</mi><mi mathvariant=normal >.</mi></mrow><annotation encoding="application/x-tex"> \min_{\gamma \in \Gamma} J[\gamma], \text{where} \\ J[\gamma] = \int_{\gamma} C[\gamma(s)] \ ds. </annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1.630439em;vertical-align:-0.880439em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.66786em;"><span style="top:-2.3556690000000002em;margin-left:0em;"><span class=pstrut  style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05556em;">γ</span><span class="mrel mtight">∈</span><span class="mord mtight">Γ</span></span></span></span><span style="top:-3em;"><span class=pstrut  style="height:3em;"></span><span><span class=mop >min</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.880439em;"><span></span></span></span></span></span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.09618em;">J</span><span class=mopen >[</span><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span><span class=mclose >]</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord text"><span class=mord >where</span></span></span><span class="mspace newline"></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.09618em;">J</span><span class=mopen >[</span><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span><span class=mclose >]</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:2.408058em;vertical-align:-1.048058em;"></span><span class=mop ><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011249999999999316em;">∫</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:-0.6105579999999999em;"><span style="top:-1.7880500000000001em;margin-left:-0.44445em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05556em;">γ</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:1.048058em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class=mopen >[</span><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span><span class=mopen >(</span><span class="mord mathdefault">s</span><span class=mclose >)</span><span class=mclose >]</span><span class=mspace > </span><span class="mord mathdefault">d</span><span class="mord mathdefault">s</span><span class=mord >.</span></span></span></span></span> <h2 id=how_we_do_it ><a href="#how_we_do_it" class=header-anchor >How we do it</a></h2> <p>If equation <span class=eqref >(<a href="#eqmainprob">10</a>)</span> reminds you of a variational calculus problem, you would be right&#33; Now we just have to solve the Euler-Lagrange equations, right?</p> <div class=unobtrusivebox ><strong>Wrong. It&#39;s too hard&#33;</strong> Try it yourself if you want. I&#39;m not going to explain why ... lots of potential curves, not so many constraints.</div> <p><br/> So instead of searching directly over curves, we are going to turn this into a dynamic problem. Stop thinking about curves as static shapes. Start thinking about curves as things that are drawn over time.</p> <p><strong>This turns it into an optimal control problem:</strong></p> <ol> <li><p>Imagine a rocket sitting at <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>θ</mi><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">\theta^*</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.69444em;vertical-align:0em;"></span><span class=mord ><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span></span></span></span></p> <li><p>It needs to traverse a trajectory in parameter space</p> <li><p>At each point in time, we send it a control input, that determines its current direction &#40;i.e. we steer the rocket&#41;.</p> <li><p><strong>Problem</strong>: Design a steering law so that the trajectory traced by the rocket is a &#40;locally&#41; optimal solution of equation <span class=eqref >(<a href="#eqmainprob">10</a>)</span>.</p> </ol> <div class=infobox ><p><strong>By the way</strong></p> <ul> <li><p>The rocket analogy is there for a reason. Optimal control theory got going in the 1950s, when the USSR and the USA suddenly got interested in designing aircraft/rocket trajectories that were optimal for doing various military things. No prizes for guessing why.</p> <li><p><a href="https://www.math.uni-bielefeld.de/documenta/vol-ismp/48_pesch-hans-josef-cold-war.pdf">Here&#39;s a history</a></p> <li><p>Two solutions emerged, separated by the iron curtain. Pontryagin&#39;s maximum principle, and Bellman&#39;s principle of optimality. </p> <li><p>Using one of these methods, we shall seize the means of curve generation, Comrade&#33;</p> </ul></div> <p>Let&#39;s mathematically express equation <span class=eqref >(<a href="#eqmainprob">10</a>)</span> as an optimal control problem:</p> <ul> <li><p>At each time <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathdefault">t</span></span></span></span>, we choose an input <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi><mo stretchy=false >(</mo><mi>t</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">u(t)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">u</span><span class=mopen >(</span><span class="mord mathdefault">t</span><span class=mclose >)</span></span></span></span>. The entire trajectory, from <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">t = 0</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathdefault">t</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.64444em;vertical-align:0em;"></span><span class=mord >0</span></span></span></span> to <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mo>=</mo><mi>F</mi></mrow><annotation encoding="application/x-tex">t=F</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathdefault">t</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span></span></span></span>, we denote <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi></mrow><annotation encoding="application/x-tex">u</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">u</span></span></span></span>. The space of possible trajectories is <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant=script >U</mi></mrow><annotation encoding="application/x-tex">\mathcal{U}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class=mord ><span class="mord mathcal" style="margin-right:0.09931em;">U</span></span></span></span></span>. So <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi><mo>∈</mo><mi mathvariant=script >U</mi></mrow><annotation encoding="application/x-tex">u \in \mathcal{U}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathdefault">u</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >∈</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class=mord ><span class="mord mathcal" style="margin-right:0.09931em;">U</span></span></span></span></span>.</p> <li><p>The dynamics of the &#39;rocket&#39; are <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>θ</mi><mo mathvariant=normal  lspace=0em  rspace=0em >′</mo></msup><mo stretchy=false >(</mo><mi>t</mi><mo stretchy=false >)</mo><mo>=</mo><mi>u</mi><mo stretchy=false >(</mo><mi>t</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">\theta&#x27;(t) = u(t)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1.001892em;vertical-align:-0.25em;"></span><span class=mord ><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class=mopen >(</span><span class="mord mathdefault">t</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">u</span><span class=mopen >(</span><span class="mord mathdefault">t</span><span class=mclose >)</span></span></span></span> &#40;i.e. we directly control rocket velocity&#41;.</p> <li><p>By transcribing the constraints on <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>γ</mi><mo mathvariant=normal  lspace=0em  rspace=0em >′</mo></msup><mo stretchy=false >(</mo><mi>s</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">\gamma&#x27;(s)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1.001892em;vertical-align:-0.25em;"></span><span class=mord ><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class=mopen >(</span><span class="mord mathdefault">s</span><span class=mclose >)</span></span></span></span> in the previous section to constraints on <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi><mo stretchy=false >(</mo><mi>s</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">u(s)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">u</span><span class=mopen >(</span><span class="mord mathdefault">s</span><span class=mclose >)</span></span></span></span>, we define the space of possible input trajectories as</p> </ul> <span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant=script >U</mi><mo>=</mo><mo fence=false >{</mo><mi>u</mi><mo>:</mo><mi mathvariant=normal >∥</mi><mi>u</mi><mo stretchy=false >(</mo><mi>t</mi><mo stretchy=false >)</mo><msub><mi mathvariant=normal >∥</mi><mn>2</mn></msub><mo>=</mo><mn>1</mn><mo separator=true >;</mo><mo stretchy=false >⟨</mo><mi>u</mi><mo stretchy=false >(</mo><mi>t</mi><mo stretchy=false >)</mo><mo separator=true >,</mo><mi>γ</mi><mo stretchy=false >(</mo><mi>t</mi><mo stretchy=false >)</mo><mo>−</mo><msup><mi>θ</mi><mo>∗</mo></msup><mo stretchy=false >⟩</mo><mo>≥</mo><mn>0</mn><mo separator=true >;</mo><mspace linebreak=newline ></mspace><mi>u</mi><mo stretchy=false >(</mo><mn>0</mn><mo stretchy=false >)</mo><mo>=</mo><mi>δ</mi><msup><mi>θ</mi><mo>∗</mo></msup><mo separator=true >;</mo><mspace width=1em /><mi mathvariant=normal >∀</mi><mi>t</mi><mo>∈</mo><mo stretchy=false >[</mo><mn>0</mn><mo separator=true >,</mo><mi>F</mi><mo stretchy=false >]</mo><mo fence=false >}</mo></mrow><annotation encoding="application/x-tex"> \mathcal{U} = \Bigg\{u: \|u(t)\|_2 = 1; \langle u(t), \gamma(t) - \theta^* \rangle \geq 0; \\ u(0) = \delta \theta^*; \quad \forall t \in [0, F] \Bigg\}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class=mord ><span class="mord mathcal" style="margin-right:0.09931em;">U</span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:3.0000299999999998em;vertical-align:-1.25003em;"></span><span class=mord ><span class="delimsizing size4">{</span></span><span class="mord mathdefault">u</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >:</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord >∥</span><span class="mord mathdefault">u</span><span class=mopen >(</span><span class="mord mathdefault">t</span><span class=mclose >)</span><span class=mord ><span class=mord >∥</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord >1</span><span class=mpunct >;</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mopen >⟨</span><span class="mord mathdefault">u</span><span class=mopen >(</span><span class="mord mathdefault">t</span><span class=mclose >)</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span><span class=mopen >(</span><span class="mord mathdefault">t</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >−</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord ><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.738696em;"><span style="top:-3.113em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class=mclose >⟩</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >≥</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class=mord >0</span><span class=mpunct >;</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span></span><span class="mspace newline"></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">u</span><span class=mopen >(</span><span class=mord >0</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.933136em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03785em;">δ</span><span class=mord ><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.738696em;"><span style="top:-3.113em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class=mpunct >;</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mspace  style="margin-right:1em;"></span><span class=mord >∀</span><span class="mord mathdefault">t</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >∈</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:3.0000299999999998em;vertical-align:-1.25003em;"></span><span class=mopen >[</span><span class=mord >0</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class=mclose >]</span><span class=mord ><span class="delimsizing size4">}</span></span></span></span></span></span> <ul> <li><p>Our minimisation problem <span class=eqref >(<a href="#eqmainprob">10</a>)</span> is now</p> </ul> <span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><munder><mo><mi>min</mi><mo>⁡</mo></mo><mrow><mi>u</mi><mo>∈</mo><mi mathvariant=script >U</mi></mrow></munder><mi>J</mi><mo stretchy=false >(</mo><mi>u</mi><mo stretchy=false >)</mo><mo separator=true >,</mo><mtext>where</mtext><mspace linebreak=newline ></mspace><mi>J</mi><mo stretchy=false >(</mo><mi>u</mi><mo stretchy=false >)</mo><mo>=</mo><msub><mo>∫</mo><mi>γ</mi></msub><mi>C</mi><mtext> </mtext><mi>d</mi><mi>γ</mi><mo separator=true >,</mo><mtext> and </mtext><msup><mi>γ</mi><mo mathvariant=normal  lspace=0em  rspace=0em >′</mo></msup><mo stretchy=false >(</mo><mi>t</mi><mo stretchy=false >)</mo><mo>=</mo><mi>u</mi><mo stretchy=false >(</mo><mi>t</mi><mo stretchy=false >)</mo><mo separator=true >,</mo><mtext> </mtext><mi mathvariant=normal >∀</mi><mi>s</mi><mo>∈</mo><mo stretchy=false >[</mo><mn>0</mn><mo separator=true >,</mo><mi>F</mi><mo stretchy=false >]</mo><mi mathvariant=normal >.</mi></mrow><annotation encoding="application/x-tex"> \min_{u \in \mathcal{U}} J(u), \text{where} \\ J(u) = \int_\gamma C \ d \gamma, \text{ and } \gamma&#x27;(t) = u(t), \ \forall s \in [0,F]. </annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1.521701em;vertical-align:-0.771701em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.66786em;"><span style="top:-2.355669em;margin-left:0em;"><span class=pstrut  style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">u</span><span class="mrel mtight">∈</span><span class="mord mtight"><span class="mord mathcal mtight" style="margin-right:0.09931em;">U</span></span></span></span></span><span style="top:-3em;"><span class=pstrut  style="height:3em;"></span><span><span class=mop >min</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.771701em;"><span></span></span></span></span></span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.09618em;">J</span><span class=mopen >(</span><span class="mord mathdefault">u</span><span class=mclose >)</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord text"><span class=mord >where</span></span></span><span class="mspace newline"></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.09618em;">J</span><span class=mopen >(</span><span class="mord mathdefault">u</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:2.408058em;vertical-align:-1.048058em;"></span><span class=mop ><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011249999999999316em;">∫</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:-0.6105579999999999em;"><span style="top:-1.7880500000000001em;margin-left:-0.44445em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05556em;">γ</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:1.048058em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class=mspace > </span><span class="mord mathdefault">d</span><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord text"><span class=mord > and </span></span><span class=mord ><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.801892em;"><span style="top:-3.113em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class=mopen >(</span><span class="mord mathdefault">t</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">u</span><span class=mopen >(</span><span class="mord mathdefault">t</span><span class=mclose >)</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mspace > </span><span class=mord >∀</span><span class="mord mathdefault">s</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >∈</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mopen >[</span><span class=mord >0</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class=mclose >]</span><span class=mord >.</span></span></span></span></span> <ul> <li><p>You can then apply Pontryagin&#39;s maximum principle to get some complicated constraints on <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi><mo stretchy=false >(</mo><mi>s</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">u(s)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">u</span><span class=mopen >(</span><span class="mord mathdefault">s</span><span class=mclose >)</span></span></span></span>. </p> <li><p>You can work through these constraints &#40;see P135 of <a href="https://ora.ox.ac.uk/objects/uuid:f58aa335-db0a-495b-8eef-1ddb363cbd19/download_file?file_format&#61;pdf&amp;safe_filename&#61;masterDoc.pdf&amp;type_of_work&#61;Thesis">my PhD thesis</a>&#41; and translate them into a differential equation.</p> </ul> <div class=infobox ><p><strong>By the way</strong></p> <ul> <li><p>Usually, solving the optimal control problem using Pontryagin&#39;s maximum principle requires solution of a boundary value problem. These are annoying to solve.</p> <li><p>Luckily, by tinkering with constraints &#40;see PhD thesis reference&#41;, we factor out the boundary constraints, and end up with an <strong>explicit ordinary differential equation that defines optimal curve evolution</strong>.</p> </ul></div> <p><br/> <br/></p> <div class=backgroundbox ><p><strong>Now, we are going to write down the differential equations for curve evolution</strong></p> <ul> <li><p>They are complicated and you should feel free to skip them. Intuition will be provided subsequently.</p> </ul></div> <p>... no one more thing.</p> <div class=unobtrusivebox ><p>Pontryagin&#39;s maximum principle requires dynamics for not only the <strong>state</strong> of the system &#40;i.e. the position <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>γ</mi><mo stretchy=false >(</mo><mi>s</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">\gamma(s)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span><span class=mopen >(</span><span class="mord mathdefault">s</span><span class=mclose >)</span></span></span></span> of the rocket&#41; but also the <strong>costate</strong> of the system. What is this? Something roughly analogous to the momentum of the rocket, but also affected by all the input constraints we have set. </p> <p>So we get two curves. One for the state <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>γ</mi><mo stretchy=false >(</mo><mi>s</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">\gamma(s)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span><span class=mopen >(</span><span class="mord mathdefault">s</span><span class=mclose >)</span></span></span></span>, and the other for the costate, which we shall denote <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>λ</mi><mo stretchy=false >(</mo><mi>s</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">\lambda(s)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">λ</span><span class=mopen >(</span><span class="mord mathdefault">s</span><span class=mclose >)</span></span></span></span>.</p></div> <p>So now, the coupled dynamics for state and costate. Angle brackets denote inner &#40;dot&#41; products.</p> <ol> <li><p>Let <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>H</mi><mo>:</mo><mo>=</mo><mi>C</mi><mo stretchy=false >[</mo><mi>γ</mi><mo stretchy=false >(</mo><mi>F</mi><mo stretchy=false >)</mo><mo stretchy=false >]</mo></mrow><annotation encoding="application/x-tex">H := C[\gamma(F)]</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >:</span></span><span class=base ><span class=strut  style="height:0.36687em;vertical-align:0em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class=mopen >[</span><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span><span class=mopen >(</span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class=mclose >)</span><span class=mclose >]</span></span></span></span> be the final cost. We set this <em>a priori</em> as a hyperparameter. Curve evolution stops prematurely if <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mo stretchy=false >[</mo><mi>γ</mi><mo stretchy=false >(</mo><mi>s</mi><mo stretchy=false >)</mo><mo stretchy=false >]</mo><mo>≥</mo><mi>H</mi></mrow><annotation encoding="application/x-tex">C[\gamma(s)] \geq H</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class=mopen >[</span><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span><span class=mopen >(</span><span class="mord mathdefault">s</span><span class=mclose >)</span><span class=mclose >]</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >≥</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span></span></span></span>.</p> </ol> <div class=infobox ><p><strong>By the way</strong></p> <ul> <li><p>Pre-setting <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>H</mi></mrow><annotation encoding="application/x-tex">H</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span></span></span></span> is the trick that turns this from a boundary value problem into a &#40;much easier&#41; ODE problem.</p> </ul></div> <br/> <ol start=2 > <li><p>Let <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>μ</mi><mn>2</mn></msub><mo stretchy=false >(</mo><mi>s</mi><mo stretchy=false >)</mo><mo>=</mo><mfrac><mrow><mi>C</mi><mo stretchy=false >[</mo><mi>γ</mi><mo stretchy=false >(</mo><mi>s</mi><mo stretchy=false >)</mo><mo stretchy=false >]</mo><mo>−</mo><mi>H</mi></mrow><mn>2</mn></mfrac></mrow><annotation encoding="application/x-tex">\mu_2(s) = \frac{C[\gamma(s)] - H}{2}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord ><span class="mord mathdefault">μ</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mopen >(</span><span class="mord mathdefault">s</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1.355em;vertical-align:-0.345em;"></span><span class=mord ><span class="mopen nulldelimiter"></span><span class=mfrac ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:1.01em;"><span style="top:-2.6550000000000002em;"><span class=pstrut  style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class=pstrut  style="height:3em;"></span><span class=frac-line  style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class=pstrut  style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.07153em;">C</span><span class="mopen mtight">[</span><span class="mord mathdefault mtight" style="margin-right:0.05556em;">γ</span><span class="mopen mtight">(</span><span class="mord mathdefault mtight">s</span><span class="mclose mtight">)</span><span class="mclose mtight">]</span><span class="mbin mtight">−</span><span class="mord mathdefault mtight" style="margin-right:0.08125em;">H</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>.</p> <li><p>Define <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>μ</mi><mn>1</mn></msub><mo stretchy=false >(</mo><mi>s</mi><mo stretchy=false >)</mo><mo>≥</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\mu_1(s) \geq 0</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord ><span class="mord mathdefault">μ</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mopen >(</span><span class="mord mathdefault">s</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >≥</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.64444em;vertical-align:0em;"></span><span class=mord >0</span></span></span></span>, and impose the constraint <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>μ</mi><mn>1</mn></msub><mo stretchy=false >(</mo><mi>s</mi><mo stretchy=false >)</mo><mo stretchy=false >⟨</mo><mi>u</mi><mo stretchy=false >(</mo><mi>s</mi><mo stretchy=false >)</mo><mo separator=true >,</mo><mi>γ</mi><mo stretchy=false >(</mo><mi>s</mi><mo stretchy=false >)</mo><mo>−</mo><msup><mi>θ</mi><mo>∗</mo></msup><mo stretchy=false >⟩</mo><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\mu_1(s)\langle u(s), \gamma(s) - \theta^* \rangle = 0</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord ><span class="mord mathdefault">μ</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mopen >(</span><span class="mord mathdefault">s</span><span class=mclose >)</span><span class=mopen >⟨</span><span class="mord mathdefault">u</span><span class=mopen >(</span><span class="mord mathdefault">s</span><span class=mclose >)</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span><span class=mopen >(</span><span class="mord mathdefault">s</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >−</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord ><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class=mclose >⟩</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.64444em;vertical-align:0em;"></span><span class=mord >0</span></span></span></span>.</p> <li><p>Let <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>λ</mi><mo stretchy=false >(</mo><mn>0</mn><mo stretchy=false >)</mo><mo>=</mo><mo fence=false >(</mo><mi>H</mi><mo>−</mo><mi>C</mi><mo stretchy=false >[</mo><mi>γ</mi><mo stretchy=false >(</mo><mn>0</mn><mo stretchy=false >)</mo><mo stretchy=false >]</mo><mo fence=false >)</mo><mi>u</mi><mo stretchy=false >(</mo><mn>0</mn><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">\lambda(0) = \big(H - C[\gamma(0)]\big)u(0)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">λ</span><span class=mopen >(</span><span class=mord >0</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1.20001em;vertical-align:-0.35001em;"></span><span class=mord ><span class="delimsizing size1">(</span></span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >−</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1.20001em;vertical-align:-0.35001em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class=mopen >[</span><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span><span class=mopen >(</span><span class=mord >0</span><span class=mclose >)</span><span class=mclose >]</span><span class=mord ><span class="delimsizing size1">)</span></span><span class="mord mathdefault">u</span><span class=mopen >(</span><span class=mord >0</span><span class=mclose >)</span></span></span></span></p> </ol> <p>Then</p> <span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>λ</mi><mo mathvariant=normal  lspace=0em  rspace=0em >′</mo></msup><mo stretchy=false >(</mo><mi>s</mi><mo stretchy=false >)</mo><mo>=</mo><msub><mi>μ</mi><mn>1</mn></msub><mo stretchy=false >(</mo><mi>s</mi><mo stretchy=false >)</mo><mi>u</mi><mo stretchy=false >(</mo><mi>s</mi><mo stretchy=false >)</mo><mo>−</mo><msub><mi mathvariant=normal >∇</mi><mi>θ</mi></msub><mi>C</mi><mo stretchy=false >[</mo><mi>γ</mi><mo stretchy=false >(</mo><mi>s</mi><mo stretchy=false >)</mo><mo stretchy=false >]</mo></mrow><annotation encoding="application/x-tex"> \lambda&#x27;(s) = \mu_1(s) u(s) - \nabla_{\theta} C[\gamma(s)] </annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1.051892em;vertical-align:-0.25em;"></span><span class=mord ><span class="mord mathdefault">λ</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.801892em;"><span style="top:-3.113em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class=mopen >(</span><span class="mord mathdefault">s</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord ><span class="mord mathdefault">μ</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mopen >(</span><span class="mord mathdefault">s</span><span class=mclose >)</span><span class="mord mathdefault">u</span><span class=mopen >(</span><span class="mord mathdefault">s</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >−</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord ><span class=mord >∇</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">θ</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class=mopen >[</span><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span><span class=mopen >(</span><span class="mord mathdefault">s</span><span class=mclose >)</span><span class=mclose >]</span></span></span></span></span> <span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>γ</mi><mo mathvariant=normal  lspace=0em  rspace=0em >′</mo></msup><mo stretchy=false >(</mo><mi>s</mi><mo stretchy=false >)</mo><mo>=</mo><mi>u</mi><mo stretchy=false >(</mo><mi>s</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex"> \gamma&#x27;(s) = u(s) </annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1.051892em;vertical-align:-0.25em;"></span><span class=mord ><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.801892em;"><span style="top:-3.113em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class=mopen >(</span><span class="mord mathdefault">s</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">u</span><span class=mopen >(</span><span class="mord mathdefault">s</span><span class=mclose >)</span></span></span></span></span> <span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi><mo stretchy=false >(</mo><mi>s</mi><mo stretchy=false >)</mo><mo>=</mo><mfrac><mrow><mi>λ</mi><mo stretchy=false >(</mo><mi>s</mi><mo stretchy=false >)</mo><mo>−</mo><msub><mi>μ</mi><mn>1</mn></msub><mo stretchy=false >(</mo><mi>s</mi><mo stretchy=false >)</mo><mo stretchy=false >[</mo><mi>γ</mi><mo stretchy=false >(</mo><mi>s</mi><mo stretchy=false >)</mo><mo>−</mo><msup><mi>θ</mi><mo>∗</mo></msup><mo stretchy=false >]</mo></mrow><mrow><mn>2</mn><msub><mi>μ</mi><mn>2</mn></msub><mo stretchy=false >(</mo><mi>s</mi><mo stretchy=false >)</mo></mrow></mfrac><mi mathvariant=normal >.</mi></mrow><annotation encoding="application/x-tex"> u(s) = \frac{\lambda(s) - \mu_1(s)[\gamma(s) - \theta^*]}{2 \mu_2(s)}.</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">u</span><span class=mopen >(</span><span class="mord mathdefault">s</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:2.363em;vertical-align:-0.936em;"></span><span class=mord ><span class="mopen nulldelimiter"></span><span class=mfrac ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:1.427em;"><span style="top:-2.314em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class=mord >2</span><span class=mord ><span class="mord mathdefault">μ</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mopen >(</span><span class="mord mathdefault">s</span><span class=mclose >)</span></span></span><span style="top:-3.23em;"><span class=pstrut  style="height:3em;"></span><span class=frac-line  style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class="mord mathdefault">λ</span><span class=mopen >(</span><span class="mord mathdefault">s</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >−</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mord ><span class="mord mathdefault">μ</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mopen >(</span><span class="mord mathdefault">s</span><span class=mclose >)</span><span class=mopen >[</span><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span><span class=mopen >(</span><span class="mord mathdefault">s</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >−</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mord ><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class=mclose >]</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class=mord >.</span></span></span></span></span> <p>Given <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mo stretchy=false >[</mo><mi>γ</mi><mo stretchy=false >(</mo><mi>s</mi><mo stretchy=false >)</mo><mo stretchy=false >]</mo></mrow><annotation encoding="application/x-tex">C[\gamma(s)]</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class=mopen >[</span><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span><span class=mopen >(</span><span class="mord mathdefault">s</span><span class=mclose >)</span><span class=mclose >]</span></span></span></span> &#40;the current cost&#41;, <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant=normal >∇</mi><mi>θ</mi></msub><mi>C</mi><mo stretchy=false >[</mo><mi>γ</mi><mo stretchy=false >(</mo><mi>s</mi><mo stretchy=false >)</mo><mo stretchy=false >]</mo></mrow><annotation encoding="application/x-tex">\nabla_{\theta} C[\gamma(s)]</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord ><span class=mord >∇</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">θ</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class=mopen >[</span><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span><span class=mopen >(</span><span class="mord mathdefault">s</span><span class=mclose >)</span><span class=mclose >]</span></span></span></span> &#40;and it&#39;s gradient&#41;, we can solve this as a differential equation in the variables <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>γ</mi><mo stretchy=false >(</mo><mi>s</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">\gamma(s)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span><span class=mopen >(</span><span class="mord mathdefault">s</span><span class=mclose >)</span></span></span></span> and <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>λ</mi><mo stretchy=false >(</mo><mi>s</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">\lambda(s)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">λ</span><span class=mopen >(</span><span class="mord mathdefault">s</span><span class=mclose >)</span></span></span></span>.</p> <div class=infobox ><p><strong>By the way</strong></p> <ul> <li><p>Get some intuition by setting <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>μ</mi><mn>1</mn></msub><mo stretchy=false >(</mo><mi>s</mi><mo stretchy=false >)</mo><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\mu_1(s) = 0</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord ><span class="mord mathdefault">μ</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mopen >(</span><span class="mord mathdefault">s</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.64444em;vertical-align:0em;"></span><span class=mord >0</span></span></span></span> in your head, then reviewing the equations. This occurs when the curve is currently pointing away from <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>θ</mi><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">\theta^*</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.69444em;vertical-align:0em;"></span><span class=mord ><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span></span></span></span>.</p> <li><p>Then you see that <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi><mo stretchy=false >(</mo><mi>s</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">u(s)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">u</span><span class=mopen >(</span><span class="mord mathdefault">s</span><span class=mclose >)</span></span></span></span>, the curve direction, is proportional to <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>λ</mi><mo stretchy=false >(</mo><mi>s</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">\lambda(s)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">λ</span><span class=mopen >(</span><span class="mord mathdefault">s</span><span class=mclose >)</span></span></span></span>, the costate &#40;<span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>≈</mo></mrow><annotation encoding="application/x-tex">\approx</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.48312em;vertical-align:0em;"></span><span class=mrel >≈</span></span></span></span> momentum&#41;.</p> <li><p>Meanwhile, the costate is <strong>integrating</strong> the negative cost gradient, <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−</mo><msub><mi mathvariant=normal >∇</mi><mi>θ</mi></msub><mi>C</mi><mo stretchy=false >[</mo><mi>γ</mi><mo stretchy=false >(</mo><mi>s</mi><mo stretchy=false >)</mo><mo stretchy=false >]</mo></mrow><annotation encoding="application/x-tex">-\nabla_{\theta} C[\gamma(s)]</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord >−</span><span class=mord ><span class=mord >∇</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">θ</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class=mopen >[</span><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span><span class=mopen >(</span><span class="mord mathdefault">s</span><span class=mclose >)</span><span class=mclose >]</span></span></span></span></p> <li><p>Notice the analogy with optimisation algorithms based on gradient descent with momentum, if you&#39;re into that kind of thing.</p> </ul></div> <h2 id=tldr ><a href="#tldr" class=header-anchor >TL;DR</a></h2> <p><strong>What we are trying to do</strong></p> <div class=backgroundbox ><p>We wanted a method to construct curves in parameter space, where</p> <ul> <li><p>Every point on the curve represents a set of model parameters that is as low cost as possible.</p> <li><p>The curves don&#39;t &#39;double back&#39; on themselves &#40;monotonically increasing distance from origin&#41;.</p> <li><p>The curves have a fixed length <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi></mrow><annotation encoding="application/x-tex">F</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span></span></span></span>. </p> <li><p>The user sets the initial direction of the curve.</p> </ul> <p>This resulted in the optimisation problem of equation <span class=eqref >(<a href="#eqmainprob">10</a>)</span>.</p></div> <p><br/> <strong>How we do it</strong></p> <div class=unobtrusivebox ><p>To make solution of this variational problem tractable, we turned it into an optimal control problem. </p> <ul> <li><p>We made the analogy of a rocket, with an automatic steering law, traversing parameter space</p> <li><p>We asked what steering law would result in a rocket trajectory corresponding to a curve satisfying the above requirements.</p> </ul> <p>This resulted in a set of differential equations, that evolve paired &#39;position&#39; and &#39;momentum&#39; variables for the rocket. Position represents the point on parameter space &#40;i.e. the curve&#41;.</p> <ul> <li><p>Solution of this differential equation requires evaluation of the cost function and it&#39;s gradient at every step.</p> </ul></div> <div class=page-foot > <div class=copyright > &copy; Dhruva Venkita Raman. Last modified: June 01, 2023. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a>. </div> </div> </div> </div> </div> </div> <!-- end of class page-wrap-->