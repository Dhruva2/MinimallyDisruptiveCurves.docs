<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/MinimallyDisruptiveCurves.docs/libs/katex/katex.min.css"> <link rel=stylesheet  href="/MinimallyDisruptiveCurves.docs/libs/highlight/github.min.css"> <link rel=stylesheet  href="/MinimallyDisruptiveCurves.docs/css/jtd.css"> <link rel=icon  href="/MinimallyDisruptiveCurves.docs/assets/favicon.ico"> <title>MinimallyDisruptiveCurves.jl: Documentation</title> <div class=page-wrap > <div class=side-bar > <div class=header > <a href="/MinimallyDisruptiveCurves.docs/" class=title > Documentation </a> </div> <label for=show-menu  class=show-menu >MENU</label> <input type=checkbox  id=show-menu  role=button > <div class=menu  id=side-menu > <ul class=menu-list > <li class="menu-list-item active"><a href="/MinimallyDisruptiveCurves.docs/" class="menu-list-link active">Home</a> <li class="menu-list-item "><a href="/MinimallyDisruptiveCurves.docs/installation/"class="menu-list-link ">Installation</a> <li class="menu-list-item "><a href="/MinimallyDisruptiveCurves.docs/menu1/" class="menu-list-link ">How it works</a> <li class="menu-list-item "><a href="/MinimallyDisruptiveCurves.docs/sceptic/" class="menu-list-link ">A sceptic's viewpoint</a> <li class="menu-list-item "><a href="/MinimallyDisruptiveCurves.docs/menu2/" class="menu-list-link ">Examples</a> <li class="menu-list-item "><a href="/MinimallyDisruptiveCurves.docs/menu3/" class="menu-list-link ">Tips & Tricks</a> <ul class="menu-list-child-list "> <li class="menu-list-item "><a href="#" class=menu-list-link >Submenu</a> </ul> </ul> </div> <div class=footer > This is <em>Just the docs</em>, adapted from the <a href="https://github.com/pmarsceill/just-the-docs" target=_blank >Jekyll theme</a>. </div> </div> <div class=main-content-wrap > <div class=main-content > <div class=main-header > <a id=github  href="/MinimallyDisruptiveCurves.docs//github.com/Dhruva2/MinimallyDisruptiveCurves.jl">MinimallyDisruptiveCurves.jl on GitHub</a> </div> <div class=franklin-content ><h1 id=minimallydisruptivecurvesjl ><a href="#minimallydisruptivecurvesjl">MinimallyDisruptiveCurves.jl</a></h1> <p><div class=franklin-toc ><ol><li><a href="#use_cases">Use Cases </a><li><a href="#what_it_does_short_form">What it does &#40;short form&#41;</a><ol><li><ol><li><a href="#ingredients">Ingredients</a><li><a href="#workflow">Workflow</a></ol></ol><li><a href="#features">Features</a><li><a href="#place_in_the_literature_ecosystem">Place in the literature ecosystem</a><li><a href="#citing">Citing</a><li><a href="#references">References </a></ol></div> <br/> <br/> <p style="color:black;font-size:20px;"> Because building a good model is hard</p> </p> <div class=row > <div class=container > <img class=left  src="/MinimallyDisruptiveCurves.docs/assets/physicists.png"> <div style="clear: both"></div> </div> </div> <p><br/> <br/> <p style="color:black;font-size:28px;">But extracting useful insight from a model is harder</p> <div class=row > <div class=container > <img class=left  src="/MinimallyDisruptiveCurves.docs/assets/curve_fitting.png"> <div style="clear: both"></div> </div> </div> &#40;<em>Credit: https://xkcd.com/793/ and https://xkcd.com/2048/</em>&#41; <br/></p> <h2 id=use_cases ><a href="#use_cases">Use Cases </a></h2> <p style="color:black;font-size:18px;"> You have a mathematical model (of any flavour), and you want to answer questions like: </p> <ul> <li><p>Are some model interactions unnecessary? Which ones?</p> <li><p>Is there a hidden approximation you could make in the model that wouldn&#39;t greatly change behaviour? </p> <li><p>Which model parameters can never be determined by model-fitting to data? Can we instead find some identifiable function of these parameters? </p> <li><p>&#40;<em>Dually</em>&#41; What spaces of parameters are &#40;approximately/exactly&#41; consistent with the data?</p> <li><p>Could changes in parameter <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span> could be continuously compensated for by changes in parameters <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span></span></span></span> and <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>z</mi></mrow><annotation encoding="application/x-tex">z</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.04398em;">z</span></span></span></span>? Or by <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi></mrow><annotation encoding="application/x-tex">u</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">u</span></span></span></span>, <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi></mrow><annotation encoding="application/x-tex">v</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span></span></span></span>, and <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">w</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span></span></span></span>? If so, what form of compensation?</p> </ul> <br/> <div class=infobox ><p><strong>By the way</strong></p> <ul> <li><p>Successfully fitting your model to data does <strong>not</strong> imply that model parameters can be uniquely determined from data. It might not even bound their allowable values.</p> </ul></div> <br/> <h2 id=what_it_does_short_form ><a href="#what_it_does_short_form">What it does &#40;short form&#41;</a></h2> <p>At its&#39; core, only one thing: </p> <blockquote> <p>Finds functional relationships between model parameters that best preserve model behaviour.</p> </blockquote> <p> <p style = "text-align:right"> (...by solving a differential equation on the parameters) </p> <br/> Each functional relationship is termed a &#39;minimally disruptive curve&#39;. It&#39;s basically a path in parameter space over which model behaviour changes minimally. For a more complete characterisation, see table below:</p> <br/> <table><tr><th align=right >Source<th align=right >Rigorous enough<th align=right >Excessively rigorous<th align=right >Excessively verbose<tr><td align=right ><a href="https://ora.ox.ac.uk/objects/uuid:f58aa335-db0a-495b-8eef-1ddb363cbd19/download_file?file_format&#61;pdf&amp;safe_filename&#61;masterDoc.pdf&amp;type_of_work&#61;Thesis">My thesis, ch. 5 &#40;ch. 4 is relevant too&#41;</a><td align=right ><td align=right >x<td align=right >x<tr><td align=right ><span class=bibref >(<a href="#raman17">Raman et al. (2017)</a>)</span><td align=right >x<td align=right ><td align=right >x<tr><td align=right ><a href="/MinimallyDisruptiveCurves.docs/menu1/">How it works</a><td align=right >x<td align=right ><td align=right ></table> <br/> <h4 id=ingredients ><a href="#ingredients">Ingredients</a></h4> <ul> <li><p>MinimallyDisruptiveCurves.jl doesn&#39;t care about / interact with the specific model you are using. It is &#39;model agnostic&#39;. </p> <li><p>You only need a differentiable cost function &#40;also called loss/objective&#41;, which maps model parameters to &#39;how bad&#39; the model behaviour is. Pseudocode for required cost function methods below.</p> <li><p>The optimal behaviour could be matching data, oscillating at 3Hz, or doing backflips. Your choice.</p> </ul> <pre><code class="julia hljs"><span class=hljs-keyword >function</span> cost(params)
  ... 
  <span class=hljs-keyword >return</span> cost
<span class=hljs-keyword >end</span>

<span class=hljs-keyword >function</span> cost(params, gradient_holder)
  ...
  gradient_holder[:] = âˆ‡C(params) <span class=hljs-comment ># MUTATE gradient holder</span>
  <span class=hljs-keyword >return</span> cost
<span class=hljs-keyword >end</span></code></pre> <ul> <li><p>You need a locally optimal set of parameters for that cost function. &#40;You get these from &#39;fitting&#39; the model&#41;. You can get these by optimising your cost function &#40;model fitting&#41;, using the julia optimisation packages mentioned below, for example.</p> </ul> <p><br/> <br/></p> <div class=infobox ><p><strong>By the way</strong></p> <ul> <li><p>Several julia optimisation packages &#40;such as Optim.jl and NLOpt.jl, DiffEqParamEstim.jl&#41; use the same specification for their cost functions &#40;which they call objective functions&#41;. So you can exploit their existing APIs for building cost functions. This package contains additional helper functions and examples for building and transforming cost functions.</p> <li><p>Otherwise, Zygote.jl and ForwardDiff.jl can collectively take the gradient of pretty much any differentiable Julia code between them. </p> <li><p>If all else fails, MinimallyDisruptiveCurves.jl provides a function: <code>make_fd_differentiable&#40;cost&#41;</code>, that spits out a function of the above form, with a finite-difference step to calculate the gradient. But using finite diffence differentiation with Julia is like using a Ferrari to do the school run.</p> </ul></div> <p><br/> <br/></p> <h4 id=workflow ><a href="#workflow">Workflow</a></h4> <div class=row > <div class=container > <img class=left  src="/MinimallyDisruptiveCurves.docs/assets/intro_workflow_schematic.svg"> <div style="clear: both"></div> </div> </div> <ul> <li><p>At each iteration, you choose which parameters the minimally disruptive curve can change &#40;you can choose all of them&#33;&#41;. </p> </ul> <p>A minimally disruptive curve might look something like this &#40;in the easily-visualisable case of a model with three parameters&#41;:</p> <div class=row > <div class=container > <img class=left  src="/MinimallyDisruptiveCurves.docs/assets/mdc_traj_schematic.svg"> <div style="clear: both"></div> </div> </div> <ul> <li><p>Every point on the curve corresponds to a set of model parameters. </p> <li><p>The starting point &#40;which you provide, red dot&#41; is a locally optimal set of parameters. That is, one that best matches &#39;optimal&#39; model behaviour, where &#39;optimal&#39; is defined in terms of your cost function. </p> <li><p>The minimally disruptive curve generator tries to change the parameters <em>as much as possible</em> while best preserving model behaviour &#40;i.e. keeping the cost low/minimal&#41;. So any parameter set on the curve &#40;e.g. green dot&#41; should induce model behaviour that is similar/identical to the red dot. </p> <li><p><em>As much as possible</em> requires a notion of distance on parameter space &#40;i.e. a metric&#41;. You can play with this metric. It could be quantified as relative changes in parameter values. And/or you could bias the curve so that small changes in a particular parameter &#40;let&#39;s call it p7&#41; correspond to large changes in the metric. So the curve will try to align with p7, and tell you how other parameters in the model can compensate for changes in p7, to preserve model behaviour.</p> </ul> <div class=infobox ><p><strong>Computational complexity</strong></p> <ul> <li><p>Generating a minimally disruptive curve usually requires somewhere between a few hundred, and a few thousand, evaluations of your cost function &#40;and its&#39; gradient&#41;. That&#39;s the major computational cost. </p> <li><p>For differential equation-based models,</p> </ul></div> <h2 id=features ><a href="#features">Features</a></h2> <h2 id=place_in_the_literature_ecosystem ><a href="#place_in_the_literature_ecosystem">Place in the literature ecosystem</a></h2> <p>Structural identifiability, practical unidentifiability Profile likelihood without gradients. Mbam. </p> <h2 id=citing ><a href="#citing">Citing</a></h2> <p><strong>The algorithm</strong>: &#40;minus a few tweaks&#41;</p> <pre><code class="julia hljs"><span class=hljs-meta >@article</span>{raman2017delineating,
  title={Delineating parameter unidentifiabilities <span class=hljs-keyword >in</span> complex models},
  author={Raman, Dhruva V and Anderson, James and Papachristodoulou, Antonis},
  journal={Physical Review E},
  volume={<span class=hljs-number >95</span>},
  number={<span class=hljs-number >3</span>},
  pages={<span class=hljs-number >032314</span>},
  year={<span class=hljs-number >2017</span>},
  publisher={APS}
}</code></pre> <p><strong>The software</strong>: as yet unpublished, keep your eye on this&#33;</p> <h2 id=references ><a href="#references">References </a></h2> <ul> <li><p><a id=raman17  class=anchor ></a><strong>Raman</strong>, <strong>Anderson</strong> and <strong>Papachristodoulou</strong>, <a href="https://journals.aps.org/pre/abstract/10.1103/PhysRevE.95.032314">Delineating parameter unidentifiabilities in complex models.</a>, Physical Review E 95.3 &#40;2017&#41;.</p> </ul> <div class=page-foot > <div class=copyright > &copy; Dhruva Venkita Raman. Last modified: July 28, 2020. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a>. </div> </div> </div> </div> </div> </div> <!-- end of class page-wrap-->