<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
   <link rel="stylesheet" href="/MinimallyDisruptiveCurves.docs/libs/katex/katex.min.css">
     
   <link rel="stylesheet" href="/MinimallyDisruptiveCurves.docs/libs/highlight/github.min.css">
   
    <link rel="stylesheet" href="/MinimallyDisruptiveCurves.docs/css/jtd.css">
  <link rel="icon" href="/MinimallyDisruptiveCurves.docs/assets/favicon.ico">

   <title>MinimallyDisruptiveCurves.jl: Documentation</title>  
</head>
<body>                      <!-- closed in foot.html -->
<div class="page-wrap">   <!-- closed in foot.html -->
  <!-- SIDE BAR -->
  <div class="side-bar">
    <div class="header">
      <a href="/MinimallyDisruptiveCurves.docs/" class="title">
        User guide
      </a>
    </div>
    <label for="show-menu" class="show-menu">MENU</label>
    <input type="checkbox" id="show-menu" role="button">
    <div class="menu" id="side-menu">
      <ul class="menu-list">
        <li class="menu-list-item active"><a href="/MinimallyDisruptiveCurves.docs/" class="menu-list-link active">Home</a>
        <li class="menu-list-item "><a href="/MinimallyDisruptiveCurves.docs/installation/"class="menu-list-link ">Installation</a>
        <li class="menu-list-item "><a href="/MinimallyDisruptiveCurves.docs/menu1/" class="menu-list-link ">How it works</a>
        <li class="menu-list-item "><a href="/MinimallyDisruptiveCurves.docs/sceptic/" class="menu-list-link ">Q&A with a sceptic</a>
        <li class="menu-list-item "><a href="/MinimallyDisruptiveCurves.docs/menu2/" class="menu-list-link ">Examples</a>
        <li class="menu-list-item "><a href="/MinimallyDisruptiveCurves.docs/menu3/" class="menu-list-link ">Tips & Tricks</a>
          <ul class="menu-list-child-list ">
            <li class="menu-list-item "><a href="#" class="menu-list-link">Submenu</a>
          </ul>
      </ul>
    </div>
    <div class="footer">
      This is <em>Just the docs</em>, adapted from the <a href="https://github.com/pmarsceill/just-the-docs" target="_blank">Jekyll theme</a>.
    </div>
  </div>
  <!-- CONTENT -->
  <div class="main-content-wrap"> <!-- closed in foot.html -->
    <div class="main-content">    <!-- closed in foot.html -->
      <div class="main-header">
        <a id="github" href="https://github.com/Dhruva2/MinimallyDisruptiveCurves.jl">MinimallyDisruptiveCurves.jl on GitHub</a>
      </div>



<!-- Content appended here (in class franklin-content) -->
<div class="franklin-content"><h1 id="minimallydisruptivecurvesjl"><a href="#minimallydisruptivecurvesjl">MinimallyDisruptiveCurves.jl</a></h1>
<p><div class="franklin-toc"><ol><li><a href="#what_it_does_short_form">What it does &#40;short form&#41;</a></li><li><a href="#use_cases">Use Cases  </a></li><li><a href="#basic_workflow">Basic workflow</a></li><li><a href="#features">Features</a></li><li><a href="#caveats">Caveats</a></li><li><a href="#related_literature">Related literature</a></li><li><a href="#citing_acknowledgements">Citing, Acknowledgements</a></li><li><a href="#references">References </a></li></ol></div> <br/> <br/> 
<p style="color:black;font-size:20px;"> Because building a good model is hard</p>  
</p>

<div class="row">
  <div class="container">
    <img class="left" src="/MinimallyDisruptiveCurves.docs/assets/physicists.png">
    <div style="clear: both"></div>      
  </div>
</div>

<p><br/> <br/> 
<p style="color:black;font-size:28px;">But extracting useful insight from a model is harder</p>  
 
<div class="row">
  <div class="container">
    <img class="left" src="/MinimallyDisruptiveCurves.docs/assets/curve_fitting.png">
    <div style="clear: both"></div>      
  </div>
</div>
   &#40;<em>Credit: https://xkcd.com/793/ and https://xkcd.com/2048/</em>&#41; <br/></p>
<h2 id="what_it_does_short_form"><a href="#what_it_does_short_form">What it does &#40;short form&#41;</a></h2>
<p>At its core, only one thing: </p>
<blockquote>
<p>Finds functional relationships between model parameters that best preserve model behaviour.</p>
</blockquote>
<p>
<p style = "text-align:right">  (...by solving a differential equation on the parameters) </p>
 <br/></p>
<div class="unobtrusivebox"><strong>Schematic</strong> <br/> <br/> 
<div class="row">
  <div class="container">
    <img class="left" src="/MinimallyDisruptiveCurves.docs/assets/mdc_schematic.svg">
    <div style="clear: both"></div>      
  </div>
</div>
 <em>&#40;bracketed blocks are optional. Ideal outputs could be experimental data&#41;. Choice of cost/loss function is arbitrary, as long as it&#39;s differentiable.</em></div>
<p><br/> <br/> <br/> <strong>Compared to model fitting/optimisation &#40;<em>which this is not</em>&#41;</strong> <br/> <br/> 
<div class="row">
  <div class="container">
    <img class="left" src="/MinimallyDisruptiveCurves.docs/assets/loss_schematic.svg">
    <div style="clear: both"></div>      
  </div>
</div>
 <br/></p>
<ul>
<li><p>You start with an initial set of parameters for which the model &#39;works&#39; as you want it to &#40;as quantified by a cost/loss function&#41;. You can get this from model fitting/optimisation.</p>
</li>
<li><p>Each minimally disruptive curve is a continuous path in parameter space. Any point on the path is a set of parameters for which the model &#39;works&#39; &#40;nearly&#41; as well as the initial set of parameters.</p>
</li>
<li><p>The job of the MD curve generator is to </p>
</li>
</ul>
<blockquote>
<p><em>get as far away as possible from the initial parameters, while keeping the cost function as low as possible</em>.</p>
</blockquote>
<div class="infobox"><p><strong>By the way</strong></p>
<ul>
<li><p><em>As far away as possible</em> implies some notion of distance &#40;metric&#41; on parameter space. Maybe you&#39;re interested in relative, rather than absolute changes. Or you&#39;re particularly interested in changes to a few particular parameters. MinimallyDisruptiveCurves.jl makes it easy to make your own custom metric &#40;see Features section&#41;.</p>
</li>
</ul></div>
<br/>
<p><strong>A minimally disruptive curve might look like this</strong> &#40;for a three-parameter model&#41;: 
<div class="row">
  <div class="container">
    <img class="left" src="/MinimallyDisruptiveCurves.docs/assets/mdc_traj_schematic.svg">
    <div style="clear: both"></div>      
  </div>
</div>
</p>
<ul>
<li><p>Any point on the curve defines a set of parameters for which the model performs &#39;well&#39; &#40;as quantified by the cost function&#41;.</p>
</li>
</ul>
<br/>
<div class="infobox"><p><strong>By the way</strong> <br/> <br/> Play around with curve specifications such as :</p>
<ul>
<li><p>the initial curve direction</p>
</li>
<li><p>which parameters the curve can&#40;not&#41; change</p>
</li>
<li><p>which parameters the curve is biased towards changing</p>
</li>
<li><p>reparameterising the cost function</p>
</li>
</ul>
<p>... to get different minimally disruptive curves yielding different model insights.</p></div>
<p><br/> <br/> <strong>Not happy with the explanation? See the following sources for more information:</strong> <br/> <br/></p>
<table><tr><th align="right">Source</th><th align="right">Rigorous enough</th><th align="right">Excessively rigorous</th><th align="right">Excessively verbose</th><th align="right">Unreliable</th></tr><tr><td align="right"><a href="https://ora.ox.ac.uk/objects/uuid:f58aa335-db0a-495b-8eef-1ddb363cbd19/download_file?file_format&#61;pdf&amp;safe_filename&#61;masterDoc.pdf&amp;type_of_work&#61;Thesis">My thesis, ch. 5 &#40;ch. 4 is relevant too&#41;</a></td><td align="right"></td><td align="right">x</td><td align="right">x</td><td align="right"></td></tr><tr><td align="right"><span class="bibref">(<a href="#raman17">Raman et al. (2017)</a>)</span></td><td align="right">x</td><td align="right"></td><td align="right">x</td><td align="right"></td></tr><tr><td align="right"><a href="/MinimallyDisruptiveCurves.docs/menu1/">How it works</a></td><td align="right">x</td><td align="right"></td><td align="right"></td><td align="right"></td></tr><tr><td align="right">dvr23@cam.ac.uk</td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right">x</td></tr></table>
<br/>
<h2 id="use_cases"><a href="#use_cases">Use Cases  </a></h2>

<p style="color:black;font-size:18px;"> You have a mathematical model (of any flavour), and you want to answer questions like: </p> 

<ul>
<li><p>Which model interactions could I kill without greatly affecting model behaviour?</p>
</li>
<li><p>Is there a hidden approximation I could make in the model that wouldn&#39;t greatly change behaviour? </p>
</li>
<li><p>Are model parameters structurally / practically identifiable from data? If not, which &#40;functions of the&#41; parameters are unidentifiable?</p>
</li>
<li><p>&#40;<em>Dually</em>&#41; What spaces of parameters are &#40;approximately/exactly&#41; consistent with the data / desired behaviour?</p>
</li>
<li><p>Could changes in parameter <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span> could be continuously compensated for by changes in parameters <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>z</mi></mrow><annotation encoding="application/x-tex">z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.04398em;">z</span></span></span></span>? Or by <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi></mrow><annotation encoding="application/x-tex">u</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">u</span></span></span></span>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi></mrow><annotation encoding="application/x-tex">v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span></span></span></span>, and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span></span></span></span>? Or by any parameters at all? If so, what kind of compensatory changes?</p>
</li>
</ul>
<br/>
<div class="infobox"><p><strong>By the way</strong> </p>
<ul>
<li><p>We provide <a href="/MinimallyDisruptiveCurves.docs/menu2/">Examples</a> in which MD curves answer all of the above questions </p>
</li>
</ul>
<p><em>&#40;on differential equation models from systems biology/neuroscience due to author prejudice. The package is model-agnostic.&#41;</em></p>
<ul>
<li><p>If you find any other use case, let me know&#33;</p>
</li>
</ul></div>
<br/>
<h2 id="basic_workflow"><a href="#basic_workflow">Basic workflow</a></h2>

<div class="row">
  <div class="container">
    <img class="left" src="/MinimallyDisruptiveCurves.docs/assets/intro_workflow_schematic.svg">
    <div style="clear: both"></div>      
  </div>
</div>

<div class="infobox"><p><strong>By the way</strong></p>
<ul>
<li><p>MinimallyDisruptiveCurves never interacts directly with your model. Only the cost function. So it is agnostic to the model / how you coded the model</p>
</li>
<li><p>Your cost function can be anything, as long as it&#39;s differentiable. Quantify how well the model matches data, oscillates at 4Hz or does backflips. Your choice.</p>
</li>
</ul></div>
<p><br/> <br/> <strong>What you need</strong></p>
<ol>
<li><p>A julia function &#40;<em>the cost function</em>&#41; with two methods as shown:</p>
</li>
</ol>
<pre><code class="julia hljs"><span class="hljs-comment"># method 1</span>
<span class="hljs-keyword">function</span> cost(params)
  ... 
  <span class="hljs-keyword">return</span> cost
<span class="hljs-keyword">end</span>

<span class="hljs-comment"># method 2</span>
<span class="hljs-keyword">function</span> cost(params, gradient_holder)
  ...
  gradient_holder[:] = ∇C(params) 
  <span class="hljs-comment"># MUTATE gradient holder. </span>
  <span class="hljs-comment"># It must provide the gradient of the cost with respect to parameters.</span>
  <span class="hljs-keyword">return</span> cost
<span class="hljs-keyword">end</span></code></pre>
<ol start="2">
<li><p>An initial set of parameters, <code>p0</code>, that are <strong>locally minimal</strong> with respect to the cost function. So</p>
</li>
</ol>
<pre><code class="julia hljs">grad_holder = rand(size(p0))
c0 = cost(p0, grad_holder)
<span class="hljs-comment"># now grad_holder ≈ zeros(size(grad_holder))</span></code></pre>
<ul>
<li><p><em>How do you get such a <code>p0</code>?</em> By fitting the model to the cost function. In Julia, you can choose from a <a href="https://www.juliaopt.org/packages/">variety of optimisation packages</a>. I use Optim.jl in the examples.</p>
</li>
</ul>
<p><br/> <br/></p>
<div class="infobox"><p><strong>By the way</strong></p>
<p><em>Calculating the gradients of cost functions of complicated models is hard right?</em> </p>
<p>Not these days&#33; Automatic differentiation of near-arbitrary code is one of the big advantages of Julia. See the <a href="/MinimallyDisruptiveCurves.docs/menu2">Examples</a>. Also note</p>
<ul>
<li><p>The two-method specification of the cost function above is shared with most julia optimisation packages &#40;e.g. Optim.jl&#41;. So you can incorporate these seamlessly in a MinimallyDisruptiveCurves.jl workflow, for creating/pre-minimising cost functions. </p>
</li>
<li><p>DiffEqParamEstim.jl makes cost functions of the required form for differential equation-based models.</p>
</li>
<li><p>Otherwise, Zygote.jl and ForwardDiff.jl can collectively take the gradient of pretty much any differentiable Julia code between them. </p>
</li>
<li><p>If all else fails, MinimallyDisruptiveCurves.jl provides a function: <code>make_fd_differentiable&#40;cost&#41;</code>, that spits out a cost function of the required form, with a finite-difference step to calculate the gradient. <em>But using finite diffence differentiation with Julia is like using a Ferrari to do the school run.</em></p>
</li>
</ul></div>
<p><br/> <br/></p>
<ol start="3">
<li><p>An initial curve direction <code>dp0</code>. </p>
<ul>
<li><p><em>You can find the minimally disruptive initial direction using local sensitivity analysis. MinimallyDisruptiveCurves.jl has tools to help you with that. Or you can find a custom direction involving a few parameters you are interested in.</em></p>
</li>
</ul>
</li>
</ol>
<p>&#40;4.&#41; A momentum hyperparameter: <code>mom</code>, with a default value. The curve stops evolving once <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo><mo>≥</mo><mi>m</mi><mi>o</mi><mi>m</mi></mrow><annotation encoding="application/x-tex">C(p) \geq mom</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mopen">(</span><span class="mord mathdefault">p</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">o</span><span class="mord mathdefault">m</span></span></span></span>.</p>
<p>Then you can run the following code:</p>
<pre><code class="julia hljs">span = (-<span class="hljs-number">50.</span>,<span class="hljs-number">100.</span>) 
<span class="hljs-comment"># the length of the curve-to-be. </span>
<span class="hljs-comment"># Negative values =&gt; two curves are evolved in parallel, in the directions plus/minus dp0, and with lengths span[1] and span[2].</span>

eprob = curveProblem(cost, p0, dp0, mom, span)
<span class="hljs-comment"># create an object eprob that stores all the curve information</span>

mdc = evolve(eprob, Tsit5; callbacks=cb)
<span class="hljs-comment"># solve the differential equation that evolves the md curve. </span>
<span class="hljs-comment"># using (in this case) the Tsit5 ODE solver. You can use any solver defined in DifferentialEquation.jl.</span>
<span class="hljs-keyword">using</span> Plots
plot(mdc)
<span class="hljs-comment"># custom plotting of the important features of the MD curve.</span></code></pre>
<p>Note that <code>mdc::MinimallyDisruptiveCurve</code>. This type comes with functionality for inspecting/interpolating the curve at different points. All hijacked from DifferentialEquations.jl, of course.</p>
<h2 id="features"><a href="#features">Features</a></h2>
<p><strong>Code whatever model you like, however you like</strong></p>
<ul>
<li><p>MinimallyDisruptiveCurves.jl does not directly interact with your model. You only need to provide a cost function as described above. So there is no constraint on the model simulation step inside the cost function. You could even have your model simulation in another language, and use e.g. pycall.jl or ccall.jl.</p>
</li>
</ul>
<p><strong>Avoids the curse of dimensionality</strong></p>
<ul>
<li><p>Since this package is not based on sampling parameter space, it doesn&#39;t suffer from the curse of dimensionality in models with many parameters.</p>
</li>
<li><p>Generating a minimally disruptive curve usually requires somewhere between a few hundred, and a few thousand, evaluations of your cost function &#40;and its gradient&#41;. That&#39;s the major computational cost.</p>
</li>
<li><p>If you use reverse-mode automatic differentiation to compute your cost gradient, then the computational complexity of gradient evaluation grows favourably with the number of parameters. That&#39;s why all these machine learning models with millions of parameters optimise so fast. </p>
</li>
</ul>
<p><strong>Multithreaded cost function summation</strong></p>
<ul>
<li><p>Often you want a model to behave one way for one input, and another way for another input. Each case induces a separate cost function. You can sum cost functions using the function <code>sum_losses&#40;arr&#41;</code>, where arr is an array of cost functions. The resulting summed cost function will run each component cost on a separate thread. So you can have a computationally efficient cost function with respect to model output on a library of inputs. </p>
</li>
</ul>
<p><strong>Easily manipulate cost functions</strong></p>
<ul>
<li><p>A lot of MinimallyDisruptiveCurves.jl workflows will require regularly fixing/freeing cost function parameters, or completely reparameterising cost functions.</p>
</li>
<li><p>E.G. you might be interested in only allowing a few parameters to change. You might be interested in relative, rather than absolute, changes. You might want to bias the curve to align with a particular parameter&#40;s&#41;.</p>
</li>
<li><p>MinimallyDisruptiveCurves.jl allows you to easily build composable <code>TransformationStructure</code> objects, with which you can reparameterise your cost function. These objects define a transformation:</p>
</li>
</ul>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mo>:</mo><msup><mi mathvariant="double-struck">R</mi><mi>N</mi></msup><mo>→</mo><msup><mi mathvariant="double-struck">R</mi><mi>M</mi></msup></mrow><annotation encoding="application/x-tex"> T: \mathbb{R}^N \to \mathbb{R}^M </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8913309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathbb">R</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913309999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8913309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathbb">R</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913309999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span></span></span></span></span></span></span></span></span></span></span></span>
<p>from the &#39;old&#39; <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span>-dimensional parameter space to the &#39;new&#39; <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span></span></span></span>-dimensional space. You just need to define <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>T</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">T^{-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span> to make the object. You can then use the function:</p>
<pre><code class="julia hljs">C_new = transform_cost(C_old, p0, tr::TransformationStructure; kwargs)</code></pre>
<p>to get a new, differentiable cost function <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>C</mi><mo>~</mo></mover></mrow><annotation encoding="application/x-tex">\tilde{C}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9201899999999998em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9201899999999998em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span><span style="top:-3.6023300000000003em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.16666em;"><span class="mord">~</span></span></span></span></span></span></span></span></span></span> satisfying</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>C</mi><mo>~</mo></mover><mo stretchy="false">(</mo><mi>T</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>=</mo><mi>C</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex"> \tilde{C}(T(p)) = C(p). </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1701899999999998em;vertical-align:-0.25em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9201899999999998em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span><span style="top:-3.6023300000000003em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.16666em;"><span class="mord">~</span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mopen">(</span><span class="mord mathdefault">p</span><span class="mclose">)</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mopen">(</span><span class="mord mathdefault">p</span><span class="mclose">)</span><span class="mord">.</span></span></span></span></span>
<ul>
<li><p>MinimallyDisruptiveCurves.jl comes preloaded with some useful TransformationStructures such as </p>
<ul>
<li><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mo>=</mo><mi>l</mi><mi>o</mi><mi>g</mi><mo>∘</mo><mi>a</mi><mi>b</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">T = log \circ abs</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∘</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">a</span><span class="mord mathdefault">b</span><span class="mord mathdefault">s</span></span></span></span>  if you&#39;re interested in relative changes to parameters.</p>
</li>
<li><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mo>:</mo><msub><mi>p</mi><mi>i</mi></msub><mo>−</mo><mo>&gt;</mo><mi>k</mi><mo>∗</mo><msub><mi>p</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">T: p_i -&gt; k*p_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7777700000000001em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">−</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> for your choice of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span></span></span></span>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span> if you&#39;re interested in biasing the curve to &#40;not&#41; align with particular parameters.</p>
</li>
<li><p>Fixing/freeing &#40;all except / &#41; named parameters.</p>
</li>
</ul>
</li>
<li><p>But the source code for each of these preloaded TransformationStructures is <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>≤</mo></mrow><annotation encoding="application/x-tex">\leq</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mrel">≤</span></span></span></span> 10 lines, so you really can just make your own.</p>
</li>
</ul>
<h2 id="caveats"><a href="#caveats">Caveats</a></h2>
<p><strong>Your cost function needs to be differentiable.</strong> </p>
<ul>
<li><p>Your cost function is a mathematical expression of what you want your model to do. A little bit of ingenuity can usually find differentiable cost functions that successfully express what you want the model to do. </p>
</li>
<li><p>Otherwise, switch your brain off and take your cost as the L2 deviation from some ideal model output. </p>
</li>
<li><p>Or finite difference the gradient with <code>make_fd_differentiable&#40;cost&#41;</code>, close your eyes, and hope for the best.</p>
</li>
</ul>
<p><strong>MinimallyDisruptiveCurves.jl generates 1d functional relationships &#40;i.e.: <em>curves</em>&#41;</strong></p>
<p>There may be higher-dimensional functional relationships &#40;i.e. <em>surfaces</em> or <em>hyper-surfaces</em>&#41; in parameter space, over which model behaviour is approximately preserved. You won&#39;t automatically find these using MinimallyDisruptiveCurves.jl. But by evolving multiple curves with different initial conditions / at different points in parameter space, you could get somewhere. </p>
<h2 id="related_literature"><a href="#related_literature">Related literature</a></h2>
<p>Not convinced this is the right way to do things? <span class="bibref">(<a href="#raman17">Raman et al. (2017)</a>)</span> has a literature review of other methods, and the relative advantages/disadvantages. I won&#39;t rewrite it here. </p>
<h2 id="citing_acknowledgements"><a href="#citing_acknowledgements">Citing, Acknowledgements</a></h2>
<p><strong>The algorithm</strong>: &#40;minus a few tweaks&#41;</p>
<pre><code class="julia hljs"><span class="hljs-meta">@article</span>{raman2017delineating,
  title={Delineating parameter unidentifiabilities <span class="hljs-keyword">in</span> complex models},
  author={Raman, Dhruva V and Anderson, James and Papachristodoulou, Antonis},
  journal={Physical Review E},
  volume={<span class="hljs-number">95</span>},
  number={<span class="hljs-number">3</span>},
  pages={<span class="hljs-number">032314</span>},
  year={<span class="hljs-number">2017</span>},
  publisher={APS}
}</code></pre>
<p><strong>The software</strong>: as yet unpublished, keep your eye on this&#33;</p>
<p><strong>This work was supported by European Research Council grant StG 2016 FLEXNEURO &#40;716643&#41;.</strong> Thanks&#33;</p>
<h2 id="references"><a href="#references">References </a></h2>
<ul>
<li><p><a id="raman17" class="anchor"></a><strong>Raman</strong>,  <strong>Anderson</strong>  and <strong>Papachristodoulou</strong>, <a href="https://journals.aps.org/pre/abstract/10.1103/PhysRevE.95.032314">Delineating parameter unidentifiabilities in complex models.</a>, Physical Review E 95.3 &#40;2017&#41;.</p>
</li>
</ul>
<div class="page-foot">
  <div class="copyright">
    &copy; Dhruva Venkita Raman. Last modified: October 06, 2020. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a>.
  </div>
</div>
</div><!-- CONTENT ENDS HERE -->
    </div> <!-- end of class main-content -->
    </div> <!-- end of class main-content-wrap -->
    </div> <!-- end of class page-wrap-->
    
      



    
    
      


    
  </body>
</html>
